<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>MyBatisä½¿ç”¨æ€»ç»“ | migaoyang | migaoyang</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="java web">
    <meta name="description" content="1. MyBatis ç¼–ç¨‹æ­¥éª¤ åˆ›å»º SqlSessionFactory å¯¹è±¡ã€‚æ„å»ºè€…æ¨¡å¼ é€šè¿‡ SqlSessionFactory è·å– SqlSession å¯¹è±¡ã€‚å·¥å‚æ¨¡å¼ é€šè¿‡ SqlSession è·å¾— Mapper ä»£ç†å¯¹è±¡ã€‚ä»£ç†æ¨¡å¼ é€šè¿‡ Mapper ä»£ç†å¯¹è±¡ï¼Œæ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚ æ‰§è¡ŒæˆåŠŸï¼Œåˆ™ä½¿ç”¨ SqlSession æäº¤äº‹åŠ¡ã€‚ æ‰§è¡Œå¤±è´¥ï¼Œåˆ™ä½¿ç”¨ SqlSession å›æ»šäº‹åŠ¡ã€‚ æœ€">
<meta name="keywords" content="java web">
<meta property="og:type" content="article">
<meta property="og:title" content="MyBatisä½¿ç”¨æ€»ç»“">
<meta property="og:url" content="http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/index.html">
<meta property="og:site_name" content="migaoyang">
<meta property="og:description" content="1. MyBatis ç¼–ç¨‹æ­¥éª¤ åˆ›å»º SqlSessionFactory å¯¹è±¡ã€‚æ„å»ºè€…æ¨¡å¼ é€šè¿‡ SqlSessionFactory è·å– SqlSession å¯¹è±¡ã€‚å·¥å‚æ¨¡å¼ é€šè¿‡ SqlSession è·å¾— Mapper ä»£ç†å¯¹è±¡ã€‚ä»£ç†æ¨¡å¼ é€šè¿‡ Mapper ä»£ç†å¯¹è±¡ï¼Œæ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚ æ‰§è¡ŒæˆåŠŸï¼Œåˆ™ä½¿ç”¨ SqlSession æäº¤äº‹åŠ¡ã€‚ æ‰§è¡Œå¤±è´¥ï¼Œåˆ™ä½¿ç”¨ SqlSession å›æ»šäº‹åŠ¡ã€‚ æœ€">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://static2.iocoder.cn/images/MyBatis/2020_03_15/02.png">
<meta property="og:updated_time" content="2020-09-09T11:34:23.917Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MyBatisä½¿ç”¨æ€»ç»“">
<meta name="twitter:description" content="1. MyBatis ç¼–ç¨‹æ­¥éª¤ åˆ›å»º SqlSessionFactory å¯¹è±¡ã€‚æ„å»ºè€…æ¨¡å¼ é€šè¿‡ SqlSessionFactory è·å– SqlSession å¯¹è±¡ã€‚å·¥å‚æ¨¡å¼ é€šè¿‡ SqlSession è·å¾— Mapper ä»£ç†å¯¹è±¡ã€‚ä»£ç†æ¨¡å¼ é€šè¿‡ Mapper ä»£ç†å¯¹è±¡ï¼Œæ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚ æ‰§è¡ŒæˆåŠŸï¼Œåˆ™ä½¿ç”¨ SqlSession æäº¤äº‹åŠ¡ã€‚ æ‰§è¡Œå¤±è´¥ï¼Œåˆ™ä½¿ç”¨ SqlSession å›æ»šäº‹åŠ¡ã€‚ æœ€">
<meta name="twitter:image" content="http://static2.iocoder.cn/images/MyBatis/2020_03_15/02.png">
    
        <link rel="alternate" type="application/atom+xml" title="migaoyang" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/1.jpg">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    
  <!-- highlight.jsä»£ç é«˜äº®ä¸»é¢˜ css å¼•å…¥-->
  <link rel="stylesheet" href="/plugins/highlight/styles/dracula.css">
  <!-- highlight.jsä»£ç é«˜äº®ä¸»é¢˜ css å¼•å…¥-->
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">ç±³é«˜æ‰¬</h5>
          <a href="mailto:mee.gaoyang@Outlook.com" title="mee.gaoyang@Outlook.com" class="mail">mee.gaoyang@Outlook.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                ä¸»é¡µ
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives">
                <i class="icon icon-lg icon-archives"></i>
                æ—¶é—´è½´
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags">
                <i class="icon icon-lg icon-tags"></i>
                æ ‡ç­¾
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories">
                <i class="icon icon-lg icon-th-list"></i>
                åˆ†ç±»
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/migaoyang" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">MyBatisä½¿ç”¨æ€»ç»“</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="è¾“å…¥æ„Ÿå…´è¶£çš„å…³é”®å­—">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">MyBatisä½¿ç”¨æ€»ç»“</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-12-08T16:00:00.000Z" itemprop="datePublished" class="page-time">
  2019-12-09
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/java-web/">java web</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-MyBatis-ç¼–ç¨‹æ­¥éª¤"><span class="post-toc-number">1.</span> <span class="post-toc-text">1. MyBatis ç¼–ç¨‹æ­¥éª¤</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#å’Œ-çš„åŒºåˆ«"><span class="post-toc-number">2.</span> <span class="post-toc-text">#{} å’Œ ${} çš„åŒºåˆ«</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·-è§£å†³æ–¹æ³•"><span class="post-toc-number">3.</span> <span class="post-toc-text">å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ · è§£å†³æ–¹æ³•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#XML-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„-select-insert-update-deleteæ ‡-ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ"><span class="post-toc-number">4.</span> <span class="post-toc-text">XML æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„ select | insert | update | deleteæ ‡ ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-åŠ¨æ€-SQL-æ˜¯åšä»€ä¹ˆçš„ï¼Ÿéƒ½æœ‰å“ªäº›åŠ¨æ€-SQL-ï¼Ÿèƒ½ç®€è¿°ä¸€ä¸‹åŠ¨æ€-SQL-çš„æ‰§è¡ŒåŸç†å—ï¼Ÿ"><span class="post-toc-number">5.</span> <span class="post-toc-text">Mybatis åŠ¨æ€ SQL æ˜¯åšä»€ä¹ˆçš„ï¼Ÿéƒ½æœ‰å“ªäº›åŠ¨æ€ SQL ï¼Ÿèƒ½ç®€è¿°ä¸€ä¸‹åŠ¨æ€ SQL çš„æ‰§è¡ŒåŸç†å—ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#æœ€ä½³å®è·µä¸­ï¼Œé€šå¸¸ä¸€ä¸ª-XML-æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª-Mapperï¼ˆDaoï¼‰-æ¥å£ä¸ä¹‹å¯¹åº”ã€‚è¯·é—®ï¼Œè¿™ä¸ª-Mapper-æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸMapper-æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ"><span class="post-toc-number">6.</span> <span class="post-toc-text">æœ€ä½³å®è·µä¸­ï¼Œé€šå¸¸ä¸€ä¸ª XML æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª Mapperï¼ˆDaoï¼‰ æ¥å£ä¸ä¹‹å¯¹åº”ã€‚è¯·é—®ï¼Œè¿™ä¸ª Mapper æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸMapper æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mapper-æ¥å£ç»‘å®šæœ‰å‡ ç§å®ç°æ–¹å¼-åˆ†åˆ«æ˜¯æ€ä¹ˆå®ç°çš„"><span class="post-toc-number">7.</span> <span class="post-toc-text">Mapper æ¥å£ç»‘å®šæœ‰å‡ ç§å®ç°æ–¹å¼,åˆ†åˆ«æ˜¯æ€ä¹ˆå®ç°çš„?</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-çš„-XML-Mapperæ–‡ä»¶ä¸­ï¼Œä¸åŒçš„-XML-æ˜ å°„æ–‡ä»¶ï¼Œid-æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ"><span class="post-toc-number">8.</span> <span class="post-toc-text">Mybatis çš„ XML Mapperæ–‡ä»¶ä¸­ï¼Œä¸åŒçš„ XML æ˜ å°„æ–‡ä»¶ï¼Œid æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„-ä¸»-é”®å€¼"><span class="post-toc-number">9.</span> <span class="post-toc-text">å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„(ä¸»)é”®å€¼?</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-æ‰§è¡Œæ‰¹é‡æ’å…¥ï¼Œèƒ½è¿”å›æ•°æ®åº“ä¸»é”®åˆ—è¡¨å—ï¼Ÿ"><span class="post-toc-number">10.</span> <span class="post-toc-text">Mybatis æ‰§è¡Œæ‰¹é‡æ’å…¥ï¼Œèƒ½è¿”å›æ•°æ®åº“ä¸»é”®åˆ—è¡¨å—ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#åœ¨-Mapper-ä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°"><span class="post-toc-number">11.</span> <span class="post-toc-text">åœ¨ Mapper ä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°?</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-æ˜¯å¦å¯ä»¥æ˜ å°„-Enum-æšä¸¾ç±»ï¼Ÿ"><span class="post-toc-number">12.</span> <span class="post-toc-text">Mybatis æ˜¯å¦å¯ä»¥æ˜ å°„ Enum æšä¸¾ç±»ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-éƒ½æœ‰å“ªäº›-Executor-æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="post-toc-number">13.</span> <span class="post-toc-text">Mybatis éƒ½æœ‰å“ªäº› Executor æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#MyBatis-å¦‚ä½•æ‰§è¡Œæ‰¹é‡æ’å…¥"><span class="post-toc-number">14.</span> <span class="post-toc-text">MyBatis å¦‚ä½•æ‰§è¡Œæ‰¹é‡æ’å…¥?</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ä»‹ç»-MyBatis-çš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„æ¦‚å¿µå’Œå®ç°åŸç†ï¼Ÿ"><span class="post-toc-number">15.</span> <span class="post-toc-text">ä»‹ç» MyBatis çš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„æ¦‚å¿µå’Œå®ç°åŸç†ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿ-Mybatis-æ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="post-toc-number">16.</span> <span class="post-toc-text">ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿ Mybatis æ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-èƒ½å¦æ‰§è¡Œä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢å—ï¼Ÿéƒ½æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚"><span class="post-toc-number">17.</span> <span class="post-toc-text">Mybatis èƒ½å¦æ‰§è¡Œä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢å—ï¼Ÿéƒ½æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ç®€è¿°-Mybatis-çš„æ’ä»¶è¿è¡ŒåŸç†ï¼Ÿä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Ÿ"><span class="post-toc-number">18.</span> <span class="post-toc-text">ç®€è¿° Mybatis çš„æ’ä»¶è¿è¡ŒåŸç†ï¼Ÿä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-æ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="post-toc-number">19.</span> <span class="post-toc-text">Mybatis æ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#MyBatis-ä¸-Hibernate-æœ‰å“ªäº›ä¸åŒï¼Ÿ"><span class="post-toc-number">20.</span> <span class="post-toc-text">MyBatis ä¸ Hibernate æœ‰å“ªäº›ä¸åŒï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#JDBC-ç¼–ç¨‹æœ‰å“ªäº›ä¸è¶³ä¹‹å¤„ï¼ˆé—®é¢˜ï¼‰ï¼ŒMyBatisæ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„ï¼Ÿ"><span class="post-toc-number">21.</span> <span class="post-toc-text">JDBC ç¼–ç¨‹æœ‰å“ªäº›ä¸è¶³ä¹‹å¤„ï¼ˆé—®é¢˜ï¼‰ï¼ŒMyBatisæ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-æ¯”-IBatis-æ¯”è¾ƒå¤§çš„å‡ ä¸ªæ”¹è¿›æ˜¯ä»€ä¹ˆï¼Ÿ"><span class="post-toc-number">22.</span> <span class="post-toc-text">Mybatis æ¯” IBatis æ¯”è¾ƒå¤§çš„å‡ ä¸ªæ”¹è¿›æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Mybatis-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œå¦‚æœ-A-æ ‡ç­¾é€šè¿‡-include-å¼•ç”¨äº†Bæ ‡ç­¾çš„å†…å®¹ï¼Œè¯·é—®ï¼ŒB-æ ‡ç­¾èƒ½å¦å®šä¹‰åœ¨-A-æ ‡ç­¾çš„åé¢ï¼Œè¿˜æ˜¯è¯´å¿…é¡»å®šä¹‰åœ¨Aæ ‡ç­¾çš„å‰é¢ï¼Ÿ"><span class="post-toc-number">23.</span> <span class="post-toc-text">Mybatis æ˜ å°„æ–‡ä»¶ä¸­ï¼Œå¦‚æœ A æ ‡ç­¾é€šè¿‡ include å¼•ç”¨äº†Bæ ‡ç­¾çš„å†…å®¹ï¼Œè¯·é—®ï¼ŒB æ ‡ç­¾èƒ½å¦å®šä¹‰åœ¨ A æ ‡ç­¾çš„åé¢ï¼Œè¿˜æ˜¯è¯´å¿…é¡»å®šä¹‰åœ¨Aæ ‡ç­¾çš„å‰é¢ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ç®€è¿°-Mybatis-çš„-XML-æ˜ å°„æ–‡ä»¶å’Œ-Mybatis-å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Ÿ"><span class="post-toc-number">24.</span> <span class="post-toc-text">ç®€è¿° Mybatis çš„ XML æ˜ å°„æ–‡ä»¶å’Œ Mybatis å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Ÿ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ä¸ºä»€ä¹ˆè¯´Mybatisæ˜¯åŠè‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ"><span class="post-toc-number">25.</span> <span class="post-toc-text">ä¸ºä»€ä¹ˆè¯´Mybatisæ˜¯åŠè‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ</span></a></li></ol>
        </nav>
    </aside>


<article id="post-æ–°å»ºæ–‡ä»¶å¤¹/mybatis" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">MyBatisä½¿ç”¨æ€»ç»“</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-12-09 00:00:00" datetime="2019-12-08T16:00:00.000Z" itemprop="datePublished">2019-12-09</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/java-web/">java web</a></li></ul>



            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h4 id="1-MyBatis-ç¼–ç¨‹æ­¥éª¤"><a href="#1-MyBatis-ç¼–ç¨‹æ­¥éª¤" class="headerlink" title="1. MyBatis ç¼–ç¨‹æ­¥éª¤"></a>1. MyBatis ç¼–ç¨‹æ­¥éª¤</h4><ol>
<li>åˆ›å»º SqlSessionFactory å¯¹è±¡ã€‚æ„å»ºè€…æ¨¡å¼</li>
<li>é€šè¿‡ SqlSessionFactory è·å– SqlSession å¯¹è±¡ã€‚å·¥å‚æ¨¡å¼</li>
<li>é€šè¿‡ SqlSession è·å¾— Mapper ä»£ç†å¯¹è±¡ã€‚ä»£ç†æ¨¡å¼</li>
<li>é€šè¿‡ Mapper ä»£ç†å¯¹è±¡ï¼Œæ‰§è¡Œæ•°æ®åº“æ“ä½œã€‚</li>
<li>æ‰§è¡ŒæˆåŠŸï¼Œåˆ™ä½¿ç”¨ SqlSession æäº¤äº‹åŠ¡ã€‚</li>
<li>æ‰§è¡Œå¤±è´¥ï¼Œåˆ™ä½¿ç”¨ SqlSession å›æ»šäº‹åŠ¡ã€‚</li>
<li>æœ€ç»ˆï¼Œå…³é—­ä¼šè¯ã€‚<pre class="line-numbers language-java"><code class="language-java"> <span class="token comment" spellcheck="true">//1.è¯»å–é…ç½®æ–‡ä»¶</span>
 InputStream in <span class="token operator">=</span> Resources<span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"SqlMapConfig.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true">//2.åˆ›å»ºSqlSessionFactoryå·¥å‚</span>
 SqlSessionFactoryBuilder builder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 SqlSessionFactory factory <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true">//3.ä½¿ç”¨å·¥å‚åˆ›å»ºdaoå¯¹è±¡</span>
 IUserDao userDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserDaoImpl</span><span class="token punctuation">(</span>factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment" spellcheck="true">//4.ä½¿ç”¨ä»£ç†å¯¹è±¡æ‰§è¡Œæ–¹æ³•</span>
 List<span class="token operator">&lt;</span>User<span class="token operator">></span> users <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">for</span><span class="token punctuation">(</span>User user <span class="token operator">:</span> users<span class="token punctuation">)</span><span class="token punctuation">{</span>
     System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token comment" spellcheck="true">//5.æ‰‹åŠ¨æäº¤äº‹åŠ¡ã€é‡Šæ”¾èµ„æº</span>
 session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 in<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ol>
<h4 id="å’Œ-çš„åŒºåˆ«"><a href="#å’Œ-çš„åŒºåˆ«" class="headerlink" title="#{} å’Œ ${} çš„åŒºåˆ«"></a><code>#{}</code> å’Œ <code>${}</code> çš„åŒºåˆ«</h4><p>&ensp;&ensp;&ensp;&ensp;  <code>${}</code> æ˜¯ Properties æ–‡ä»¶ä¸­çš„å˜é‡å ä½ç¬¦ï¼Œå®ƒå¯ä»¥ç”¨äº XML æ ‡ç­¾å±æ€§å€¼å’Œ SQL å†…éƒ¨ï¼Œå±äº<strong>å­—ç¬¦ä¸²æ›¿æ¢</strong>ã€‚ä¾‹å¦‚å°† <code>${driver}</code> ä¼šè¢«é™æ€æ›¿æ¢ä¸º <code>com.mysql.jdbc.Driver</code> ï¼š  </p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">--</span>ç”¨äºxmlæ ‡ç­¾ï¼Œè¿›è¡Œå±æ€§å€¼ï¼ˆå­—ç¬¦ä¸²ï¼‰æ›¿æ¢<span class="token operator">--</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>dataSource type<span class="token operator">=</span><span class="token string">"UNPOOLED"</span><span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">--</span>æœªä½¿ç”¨è¿æ¥æ± <span class="token operator">--</span><span class="token operator">></span>
     <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"driver"</span> value<span class="token operator">=</span><span class="token string">"${driver}"</span><span class="token operator">/</span><span class="token operator">></span>    
     <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"url"</span> value<span class="token operator">=</span><span class="token string">"${url}"</span><span class="token operator">/</span><span class="token operator">></span>  
     <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"username"</span> value<span class="token operator">=</span><span class="token string">"${username}"</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>dataSource<span class="token operator">></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">--</span>ç”¨äºSQLæ‹¼æ¥ ï¼Œç›´æ¥å­—ç¬¦ä¸²æ‹¼æ¥<span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">"getSubject"</span> parameterType<span class="token operator">=</span><span class="token string">"Integer"</span> resultType<span class="token operator">=</span><span class="token string">"Subject"</span><span class="token operator">></span>    
  SELECT <span class="token operator">*</span> FROM subject  WHERE id <span class="token operator">=</span> $<span class="token punctuation">{</span>id<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">></span>   
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>å®é™…åœºæ™¯ä¸åº”è¯¥ä½¿ç”¨ <code>${id}</code> ,å› ä¸ºç›´æ¥æ‹¼æ¥å­—ç¬¦ä¸²å¯èƒ½æœ‰ SQL æ³¨å…¥çš„é£é™©ã€‚  </li>
</ul>
<p>&ensp;&ensp;&ensp;&ensp;  <code>#{}</code> æ˜¯ SQL çš„<code>å‚æ•°å ä½ç¬¦</code>ï¼ŒMybatis ä¼šå°† SQLè¯­å¥ä¸­çš„ <code>#{}</code> æ›¿æ¢ä¸º <code>?</code> å·ï¼Œåœ¨ SQL æ‰§è¡Œå‰ä¼šä½¿ç”¨ PreparedStatement çš„å‚æ•°è®¾ç½®æ–¹æ³•ï¼ŒæŒ‰åºç»™ SQL çš„ <code>?</code> å·å ä½ç¬¦è®¾ç½®å‚æ•°å€¼ï¼Œæ¯”å¦‚ <code>ps.setInt(0, parameterValue)</code> ã€‚ æ‰€ä»¥ï¼Œ<code>#{}</code>æ˜¯ <strong>é¢„ç¼–è¯‘å¤„ç†</strong> ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢ SQL æ³¨å…¥ï¼Œæé«˜ç³»ç»Ÿå®‰å…¨æ€§ã€‚<br>&ensp;&ensp;&ensp;&ensp;  å¦å¤–ï¼Œç”±äºmybatisé‡‡ç”¨äº†OGNLè¡¨è¾¾å¼çš„æ ‡å‡†ï¼Œå¯ç›´æ¥ä»¥<code>.</code>çš„å½¢å¼è¿›è¡Œå±æ€§çš„å–å€¼ï¼Œ<code>#{}</code> å’Œ <code>${}</code> çš„å–å€¼æ–¹å¼éå¸¸æ–¹ä¾¿ã€‚ä¾‹å¦‚ï¼š<code>#{item.name}</code> çš„å–å€¼æ–¹å¼ï¼Œä½¿ç”¨åå°„ä»å‚æ•°å¯¹è±¡ä¸­ï¼Œè·å– <code>item</code> å¯¹è±¡çš„ <code>name</code> å±æ€§å€¼ï¼Œç›¸å½“äº <code>param.getItem().getName()</code> ä»£æ›¿äº†<code>bject.getName()</code>ã€‚</p>
<h4 id="å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·-è§£å†³æ–¹æ³•"><a href="#å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ ·-è§£å†³æ–¹æ³•" class="headerlink" title="å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ · è§£å†³æ–¹æ³•"></a>å®ä½“ç±»ä¸­çš„å±æ€§åå’Œè¡¨ä¸­çš„å­—æ®µåä¸ä¸€æ · è§£å†³æ–¹æ³•</h4><p>&ensp;&ensp;&ensp;&ensp;  ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹æ³•ï¼š<br>&ensp;&ensp;&ensp;&ensp;  <strong>æ–¹æ³•ä¸€</strong>  SQLè¯­å¥èµ·åˆ«åï¼Œè®©å­—æ®µåçš„åˆ«åå’Œå®ä½“ç±»çš„å±æ€§åä¸€è‡´ã€‚</p>
<pre class="line-numbers language-JavaScript"><code class="language-JavaScript"><--sqlèµ·åˆ«å-->
<select id="selectOrder" parametertype="Integer" resulttype="Order">    
    SELECT order_id AS id, order_no AS orderno, order_price AS price   
    FROM orders   WHERE order_id = #{id}
</select>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></--sqlèµ·åˆ«å--></code></pre>
<p>&ensp;&ensp;&ensp;&ensp;  <strong>æ–¹æ³•äºŒ</strong>  <code>çº¦å®šå¤§äºé…ç½®</code>ã€‚å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œæ•°æ®åº“å­—æ®µåå’Œå®ä½“ç±»ä¸­çš„å±æ€§åä¹‹é—´çš„å·®åˆ«ï¼Œä¸»è¦æ˜¯<strong>ä¸‹åˆ’çº¿é£æ ¼</strong>ä¸<strong>é©¼å³°é£æ ¼</strong>çš„å·®è·ã€‚</p>
<pre class="line-numbers language-JavaScript"><code class="language-JavaScript"><settings>
    <setting name="logImpl" value="LOG4J">   
    <setting name="mapUnderscoreToCamelCase" value="true">
</setting></setting></settings>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>&ensp;&ensp;&ensp;&ensp;  <strong>æ–¹æ³•ä¸‰</strong>  æ˜ å°„ã€‚å°†å­—æ®µåå’Œå®ä½“ç±»å±æ€§åä¸€ä¸€æ˜ å°„å¯¹åº”ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-JavaScript"><code class="language-JavaScript"><!-- å®šä¹‰å°è£…accountå’Œuserçš„resultMap -->
<resultmap id="accountUserMap" type="account">
    <id property="id" column="aid"></id>        <!â€“- ç”¨ id å±æ€§æ¥æ˜ å°„ä¸»é”®å­—æ®µã€‚ property ä¸ºå®ä½“ç±»å±æ€§åï¼Œcolumn ä¸ºæ•°æ®è¡¨ä¸­çš„å±æ€§ -â€“>
    <result property="uid" column="uid"></result>   <!â€“- ç”¨ result å±æ€§æ¥æ˜ å°„éä¸»é”®å­—æ®µ-â€“>
    <result property="money" column="money"></result>
    <!-- ä¸€å¯¹ä¸€çš„å…³ç³»æ˜ å°„ï¼šé…ç½®å°è£…userçš„å†…å®¹-->
    <association property="user" column="uid" javatype="user">
        <id property="id" column="id"></id>
        <result column="username" property="username"></result>
        <result column="address" property="address"></result>
        <result column="sex" property="sex"></result>
        <result column="birthday" property="birthday"></result>
    </association>
</resultmap>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>æˆ‘è®¤ä¸ºï¼Œåº”è¯¥å°½é‡é¿å…ä½¿ç”¨åˆ«åï¼Œå› ä¸ºæ²¡æœ‰<code>å¯é‡ç”¨æ€§</code>ï¼Œå°½é‡è€ƒè™‘ä½¿ç”¨<code>çº¦å®šå¤§äºé…ç½®</code>è¿™ä¸€æ€æƒ³ã€‚</li>
</ul>
<h4 id="XML-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„-select-insert-update-deleteæ ‡-ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ"><a href="#XML-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„-select-insert-update-deleteæ ‡-ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ" class="headerlink" title="XML æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„ select | insert | update | deleteæ ‡ ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ"></a>XML æ˜ å°„æ–‡ä»¶ä¸­ï¼Œé™¤äº†å¸¸è§çš„ select | insert | update | deleteæ ‡ ç­¾ä¹‹å¤–ï¼Œè¿˜æœ‰å“ªäº›æ ‡ç­¾ï¼Ÿ</h4><pre class="line-numbers language-JavaScript"><code class="language-JavaScript"><--mapper ç›¸å…³æ ‡ç­¾--="">
    <cache> æ ‡ç­¾ï¼Œ ç»™å®šå‘½åç©ºé—´çš„ç¼“å­˜é…ç½®ã€‚
    <cache-ref> æ ‡ç­¾ï¼Œå…¶ä»–å‘½åç©ºé—´ç¼“å­˜é…ç½®çš„å¼•ç”¨ã€‚
    <resultmap> æ ‡ç­¾ï¼Œæ˜¯æœ€å¤æ‚ä¹Ÿæ˜¯æœ€å¼ºå¤§çš„å…ƒç´ ï¼Œç”¨æ¥æè¿°å¦‚ä½•ä»æ•°æ®åº“ç»“æœé›†ä¸­æ¥åŠ è½½å¯¹è±¡ã€‚
    <parametermap> æ ‡ç­¾ï¼Œå·²åºŸå¼ƒï¼è€å¼é£æ ¼çš„å‚æ•°æ˜ å°„ã€‚å†…è”å‚æ•°æ˜¯é¦–é€‰,è¿™ä¸ªå…ƒç´ å¯èƒ½åœ¨å°†æ¥è¢«ç§»é™¤ï¼Œè¿™é‡Œä¸ä¼šè®°å½•ã€‚
    <sql> æ ‡ç­¾ï¼Œå¯è¢«å…¶ä»–è¯­å¥å¼•ç”¨çš„å¯é‡ç”¨è¯­å¥å—ã€‚
    <include> æ ‡ç­¾ï¼Œå¼•ç”¨ <sql> æ ‡ç­¾çš„è¯­å¥ã€‚
    <selectkey> æ ‡ç­¾ï¼Œä¸æ”¯æŒè‡ªå¢çš„ä¸»é”®ç”Ÿæˆç­–ç•¥æ ‡ç­¾ã€‚

<--åŠ¨æ€sql ç›¸å…³æ ‡ç­¾--="">
    <if>
    <choose>ã€<when>ã€<otherwise>
    <trim>ã€<where>ã€<set>
    <foreach>
    <bind>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></bind></foreach></set></where></trim></otherwise></when></choose></if></--åŠ¨æ€sql></selectkey></sql></include></sql></parametermap></resultmap></cache-ref></cache></--mapper></code></pre>
<h4 id="Mybatis-åŠ¨æ€-SQL-æ˜¯åšä»€ä¹ˆçš„ï¼Ÿéƒ½æœ‰å“ªäº›åŠ¨æ€-SQL-ï¼Ÿèƒ½ç®€è¿°ä¸€ä¸‹åŠ¨æ€-SQL-çš„æ‰§è¡ŒåŸç†å—ï¼Ÿ"><a href="#Mybatis-åŠ¨æ€-SQL-æ˜¯åšä»€ä¹ˆçš„ï¼Ÿéƒ½æœ‰å“ªäº›åŠ¨æ€-SQL-ï¼Ÿèƒ½ç®€è¿°ä¸€ä¸‹åŠ¨æ€-SQL-çš„æ‰§è¡ŒåŸç†å—ï¼Ÿ" class="headerlink" title="Mybatis åŠ¨æ€ SQL æ˜¯åšä»€ä¹ˆçš„ï¼Ÿéƒ½æœ‰å“ªäº›åŠ¨æ€ SQL ï¼Ÿèƒ½ç®€è¿°ä¸€ä¸‹åŠ¨æ€ SQL çš„æ‰§è¡ŒåŸç†å—ï¼Ÿ"></a>Mybatis åŠ¨æ€ SQL æ˜¯åšä»€ä¹ˆçš„ï¼Ÿéƒ½æœ‰å“ªäº›åŠ¨æ€ SQL ï¼Ÿèƒ½ç®€è¿°ä¸€ä¸‹åŠ¨æ€ SQL çš„æ‰§è¡ŒåŸç†å—ï¼Ÿ</h4><ul>
<li>Mybatis åŠ¨æ€ SQL ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨ XML æ˜ å°„æ–‡ä»¶å†…ï¼Œä»¥ XML æ ‡ç­¾çš„å½¢å¼ç¼–å†™åŠ¨æ€ SQL ï¼Œå®Œæˆé€»è¾‘åˆ¤æ–­å’ŒåŠ¨æ€æ‹¼æ¥ SQL çš„åŠŸèƒ½ã€‚</li>
<li>Mybatis æä¾›äº† 9 ç§åŠ¨æ€ SQL<pre class="line-numbers language-JavaScript"><code class="language-JavaScript"><if>ã€<choose>ã€<when>ã€
<otherwise>ã€<trim>ã€<where>ã€
<set>ã€<foreach>ã€<bind>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></bind></foreach></set></where></trim></otherwise></when></choose></if></code></pre>
</li>
<li>å…¶æ‰§è¡ŒåŸç†ä¸ºï¼Œä½¿ç”¨ <strong>OGNL</strong> çš„è¡¨è¾¾å¼ï¼Œä» SQL å‚æ•°å¯¹è±¡ä¸­è®¡ç®—è¡¨è¾¾å¼çš„å€¼ï¼Œæ ¹æ®è¡¨è¾¾å¼çš„å€¼åŠ¨æ€æ‹¼æ¥ SQL ï¼Œä»¥æ­¤æ¥å®ŒæˆåŠ¨æ€ SQL çš„åŠŸèƒ½ã€‚</li>
</ul>
<h4 id="æœ€ä½³å®è·µä¸­ï¼Œé€šå¸¸ä¸€ä¸ª-XML-æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª-Mapperï¼ˆDaoï¼‰-æ¥å£ä¸ä¹‹å¯¹åº”ã€‚è¯·é—®ï¼Œè¿™ä¸ª-Mapper-æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸMapper-æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ"><a href="#æœ€ä½³å®è·µä¸­ï¼Œé€šå¸¸ä¸€ä¸ª-XML-æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª-Mapperï¼ˆDaoï¼‰-æ¥å£ä¸ä¹‹å¯¹åº”ã€‚è¯·é—®ï¼Œè¿™ä¸ª-Mapper-æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸMapper-æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ" class="headerlink" title="æœ€ä½³å®è·µä¸­ï¼Œé€šå¸¸ä¸€ä¸ª XML æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª Mapperï¼ˆDaoï¼‰ æ¥å£ä¸ä¹‹å¯¹åº”ã€‚è¯·é—®ï¼Œè¿™ä¸ª Mapper æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸMapper æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ"></a>æœ€ä½³å®è·µä¸­ï¼Œé€šå¸¸ä¸€ä¸ª XML æ˜ å°„æ–‡ä»¶ï¼Œéƒ½ä¼šå†™ä¸€ä¸ª Mapperï¼ˆDaoï¼‰ æ¥å£ä¸ä¹‹å¯¹åº”ã€‚è¯·é—®ï¼Œè¿™ä¸ª Mapper æ¥å£çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼ŸMapper æ¥å£é‡Œçš„æ–¹æ³•ï¼Œå‚æ•°ä¸åŒæ—¶ï¼Œæ–¹æ³•èƒ½é‡è½½å—ï¼Ÿ</h4><p>Mapper(Dao) æ¥å£ï¼Œå¯¹åº”çš„å…³ç³»å¦‚ä¸‹ï¼š</p>
<ul>
<li>æ¥å£çš„å…¨é™åï¼Œå°±æ˜¯æ˜ å°„æ–‡ä»¶ä¸­çš„ <code>&quot;namespace&quot;</code> çš„å€¼ã€‚</li>
<li>æ¥å£çš„æ–¹æ³•åï¼Œå°±æ˜¯æ˜ å°„æ–‡ä»¶ä¸­ MappedStatement çš„ <code>&quot;id&quot;</code> å€¼ã€‚</li>
<li>æ¥å£æ–¹æ³•å†…çš„å‚æ•°ï¼Œå°±æ˜¯ä¼ é€’ç»™ SQL çš„å‚æ•°ã€‚    </li>
</ul>
<p>Mapper(Dao) æ¥å£æ˜¯æ²¡æœ‰å®ç°ç±»çš„ï¼Œå½“è°ƒç”¨æ¥å£æ–¹æ³•æ—¶ï¼Œæ¥å£å…¨é™å + æ–¹æ³•åæ‹¼æ¥å­—ç¬¦ä¸²ä½œä¸º key å€¼ï¼Œå¯å”¯ä¸€å®šä½ä¸€ä¸ªå¯¹åº”çš„ MappedStatement ã€‚ä¸¾ä¾‹ï¼š<code>com.mybatis3.mappers.StudentDao.findStudentById</code> ï¼Œå¯ä»¥å”¯ä¸€æ‰¾åˆ° <code>&quot;namespace&quot;</code> ä¸º <code>com.mybatis3.mappers.StudentDao</code> ä¸‹é¢ <code>&quot;id&quot;</code> ä¸º <code>findStudentById</code> çš„ MappedStatement ã€‚<br>æ€»ç»“æ¥è¯´ï¼Œåœ¨ Mybatis ä¸­ï¼Œæ¯ä¸€ä¸ª<code>&lt;select /&gt;ã€&lt;insert /&gt;ã€&lt;update /&gt;ã€&lt;delete /&gt;</code> æ ‡ç­¾ï¼Œéƒ½ä¼šè¢«è§£æä¸ºä¸€ä¸ª MappedStatement å¯¹è±¡ã€‚</p>
<p>å¦å¤–ï¼ŒMapper æ¥å£çš„å®ç°ç±»ï¼Œé€šè¿‡ MyBatis ä½¿ç”¨ <strong>JDK Proxy</strong> è‡ªåŠ¨ç”Ÿæˆå…¶ä»£ç†å¯¹è±¡ Proxy ï¼Œè€Œä»£ç†å¯¹è±¡ Proxy ä¼šæ‹¦æˆªæ¥å£æ–¹æ³•ï¼Œä»è€Œâ€œè°ƒç”¨â€å¯¹åº”çš„ MappedStatement æ–¹æ³•ï¼Œæœ€ç»ˆæ‰§è¡Œ SQL ï¼Œè¿”å›æ‰§è¡Œç»“æœã€‚æ•´ä½“æµç¨‹å¦‚ä¸‹å›¾ï¼š[<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="http://static2.iocoder.cn/images/MyBatis/2020_03_15/02.png" alt="æµç¨‹](http://static2.iocoder.cn/images/MyBatis/2020_03_15/02.png)" title="">
                </div>
                <div class="image-caption">æµç¨‹](http://static2.iocoder.cn/images/MyBatis/2020_03_15/02.png)</div>
            </figure>æµç¨‹</p>
<ul>
<li><p>å…¶ä¸­ï¼ŒSqlSession åœ¨è°ƒç”¨ Executor ä¹‹å‰ï¼Œä¼šè·å¾—å¯¹åº”çš„ MappedStatement æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š<code>DefaultSqlSession#select(String statement, Object parameter, RowBounds rowBounds, ResultHandler handler)</code> æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">// DefaultSqlSession.java</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">select</span><span class="token punctuation">(</span>String statement<span class="token punctuation">,</span> Object parameter<span class="token punctuation">,</span> RowBounds rowBounds<span class="token punctuation">,</span> ResultHandler handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// è·å¾— MappedStatement å¯¹è±¡</span>
        MappedStatement ms <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getMappedStatement</span><span class="token punctuation">(</span>statement<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// æ‰§è¡ŒæŸ¥è¯¢</span>
        executor<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>ms<span class="token punctuation">,</span> <span class="token function">wrapCollection</span><span class="token punctuation">(</span>parameter<span class="token punctuation">)</span><span class="token punctuation">,</span> rowBounds<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> ExceptionFactory<span class="token punctuation">.</span><span class="token function">wrapException</span><span class="token punctuation">(</span><span class="token string">"Error querying database.  Cause: "</span> <span class="token operator">+</span> e<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        ErrorContext<span class="token punctuation">.</span><span class="token function">instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<p>&ensp;&ensp;&ensp;&ensp; Mapper æ¥å£é‡Œçš„æ–¹æ³•ï¼Œæ˜¯ä¸èƒ½é‡è½½çš„ï¼Œå› ä¸ºæ˜¯<strong>å…¨é™å + æ–¹æ³•å</strong>çš„ä¿å­˜å’Œå¯»æ‰¾ç­–ç•¥ã€‚ğŸ˜ˆ æ‰€ä»¥æœ‰æ—¶ï¼Œæƒ³ä¸ª Mapper æ¥å£é‡Œçš„æ–¹æ³•åï¼Œè¿˜æ˜¯è›®é—¹å¿ƒçš„ï¼Œå˜¿å˜¿ã€‚</p>
<h4 id="Mapper-æ¥å£ç»‘å®šæœ‰å‡ ç§å®ç°æ–¹å¼-åˆ†åˆ«æ˜¯æ€ä¹ˆå®ç°çš„"><a href="#Mapper-æ¥å£ç»‘å®šæœ‰å‡ ç§å®ç°æ–¹å¼-åˆ†åˆ«æ˜¯æ€ä¹ˆå®ç°çš„" class="headerlink" title="Mapper æ¥å£ç»‘å®šæœ‰å‡ ç§å®ç°æ–¹å¼,åˆ†åˆ«æ˜¯æ€ä¹ˆå®ç°çš„?"></a>Mapper æ¥å£ç»‘å®šæœ‰å‡ ç§å®ç°æ–¹å¼,åˆ†åˆ«æ˜¯æ€ä¹ˆå®ç°çš„?</h4><p>&ensp;&ensp;&ensp;&ensp;æ¥å£ç»‘å®šæœ‰ä¸‰ç§å®ç°æ–¹å¼ï¼š</p>
<p>ç¬¬ä¸€ç§ï¼Œé€šè¿‡ <strong>XML Mapper</strong> é‡Œé¢å†™ SQL æ¥ç»‘å®šã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¦æŒ‡å®š XML æ˜ å°„æ–‡ä»¶é‡Œé¢çš„ <code>&quot;namespace&quot;</code> å¿…é¡»ä¸ºæ¥å£çš„å…¨è·¯å¾„åã€‚</p>
<p>ç¬¬äºŒç§ï¼Œé€šè¿‡<strong>æ³¨è§£</strong>ç»‘å®šï¼Œå°±æ˜¯åœ¨æ¥å£çš„æ–¹æ³•ä¸Šé¢åŠ ä¸Š <code>@Select</code>ã€<code>@Update</code>ã€<code>@Insert</code>ã€<code>@Delete</code> æ³¨è§£ï¼Œé‡Œé¢åŒ…å« SQL è¯­å¥æ¥ç»‘å®šã€‚</p>
<p>ç¬¬ä¸‰ç§ï¼Œæ˜¯ç¬¬äºŒç§çš„ç‰¹ä¾‹ï¼Œä¹Ÿæ˜¯é€šè¿‡<strong>æ³¨è§£</strong>ç»‘å®šï¼Œåœ¨æ¥å£çš„æ–¹æ³•ä¸Šé¢åŠ ä¸Š <code>@SelectProvider</code>ã€<code>@UpdateProvider</code>ã€<code>@InsertProvider</code>ã€<code>@DeleteProvider</code> æ³¨è§£ï¼Œé€šè¿‡ Java ä»£ç ï¼Œç”Ÿæˆå¯¹åº”çš„åŠ¨æ€ SQL ã€‚</p>
<p>&ensp;&ensp;&ensp;&ensp;å®é™…åœºæ™¯ä¸‹ï¼Œæœ€æœ€æœ€æ¨èçš„æ˜¯<strong>ç¬¬ä¸€ç§</strong>æ–¹å¼ã€‚å› ä¸ºï¼ŒSQL é€šè¿‡æ³¨è§£å†™åœ¨ Java ä»£ç ä¸­ï¼Œä¼šéå¸¸æ‚ä¹±ã€‚è€Œå†™åœ¨ XML ä¸­ï¼Œæ›´åŠ æœ‰æ•´ä½“æ€§ï¼Œå¹¶ä¸”å¯ä»¥æ›´åŠ æ–¹ä¾¿çš„ä½¿ç”¨ OGNL è¡¨è¾¾å¼ã€‚</p>
<h4 id="Mybatis-çš„-XML-Mapperæ–‡ä»¶ä¸­ï¼Œä¸åŒçš„-XML-æ˜ å°„æ–‡ä»¶ï¼Œid-æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ"><a href="#Mybatis-çš„-XML-Mapperæ–‡ä»¶ä¸­ï¼Œä¸åŒçš„-XML-æ˜ å°„æ–‡ä»¶ï¼Œid-æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ" class="headerlink" title="Mybatis çš„ XML Mapperæ–‡ä»¶ä¸­ï¼Œä¸åŒçš„ XML æ˜ å°„æ–‡ä»¶ï¼Œid æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ"></a>Mybatis çš„ XML Mapperæ–‡ä»¶ä¸­ï¼Œä¸åŒçš„ XML æ˜ å°„æ–‡ä»¶ï¼Œid æ˜¯å¦å¯ä»¥é‡å¤ï¼Ÿ</h4><p>&ensp;&ensp;&ensp;&ensp;ä¸åŒçš„ XML Mapper æ–‡ä»¶ï¼Œå¦‚æœé…ç½®äº† <code>&quot;namespace&quot;</code> ï¼Œé‚£ä¹ˆ id å¯ä»¥é‡å¤ï¼›å¦‚æœæ²¡æœ‰é…ç½® <code>&quot;namespace&quot;</code> ï¼Œé‚£ä¹ˆ id ä¸èƒ½é‡å¤ã€‚æ¯•ç«Ÿ<code>&quot;namespace&quot;</code> ä¸æ˜¯å¿…é¡»çš„ï¼Œåªæ˜¯æœ€ä½³å®è·µè€Œå·²ã€‚<br>&ensp;&ensp;&ensp;&ensp;åŸå› å°±æ˜¯ï¼Œ<code>namespace + id</code> æ˜¯ä½œä¸º <code>Map</code> çš„ key ä½¿ç”¨çš„(VALUE æ˜¯SQLè¯­å¥+å‚æ•°ç±»å‹)ã€‚å¦‚æœæ²¡æœ‰ <code>&quot;namespace&quot;</code>ï¼Œå°±å‰©ä¸‹ id ï¼Œé‚£ä¹ˆ id é‡å¤ä¼šå¯¼è‡´æ•°æ®äº’ç›¸è¦†ç›–ã€‚å¦‚æœæœ‰äº† <code>&quot;namespace&quot;</code>ï¼Œè‡ªç„¶ id å°±å¯ä»¥é‡å¤ï¼Œ<code>&quot;namespace&quot;</code>ä¸åŒï¼Œ<code>namespace + id</code> è‡ªç„¶ä¹Ÿå°±ä¸åŒã€‚</p>
<h4 id="å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„-ä¸»-é”®å€¼"><a href="#å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„-ä¸»-é”®å€¼" class="headerlink" title="å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„(ä¸»)é”®å€¼?"></a>å¦‚ä½•è·å–è‡ªåŠ¨ç”Ÿæˆçš„(ä¸»)é”®å€¼?</h4><p>ä¸åŒçš„æ•°æ®åº“ï¼Œè·å–è‡ªåŠ¨ç”Ÿæˆçš„(ä¸»)é”®å€¼çš„æ–¹å¼æ˜¯ä¸åŒçš„ã€‚</p>
<p>MySQL æœ‰ä¸¤ç§æ–¹å¼ï¼Œä½†æ˜¯<strong>è‡ªå¢ä¸»é”®</strong>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-JavaScript"><code class="language-JavaScript">// æ–¹å¼ä¸€ï¼Œä½¿ç”¨ useGeneratedKeys + keyProperty å±æ€§
<insert id="insert" parametertype="Person" usegeneratedkeys="true" keyproperty="id">
    INSERT INTO person(name, pswd)
    VALUE (#{name}, #{pswd})
</insert>

// æ–¹å¼äºŒï¼Œä½¿ç”¨ `<selectkey>` æ ‡ç­¾
<insert id="insert" parametertype="Person" usegeneratedkeys="true" keyproperty="id">
    <selectkey keyproperty="id" resulttype="long" order="AFTER">
        SELECT LAST_INSERT_ID()
    </selectkey>
    INSERT INTO person(name, pswd)
    VALUE (#{name}, #{pswd})
</insert>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></selectkey></code></pre>
<ul>
<li>å…¶ä¸­ï¼Œ<strong>æ–¹å¼ä¸€</strong> è¾ƒä¸ºå¸¸ç”¨ã€‚</li>
</ul>
<h4 id="Mybatis-æ‰§è¡Œæ‰¹é‡æ’å…¥ï¼Œèƒ½è¿”å›æ•°æ®åº“ä¸»é”®åˆ—è¡¨å—ï¼Ÿ"><a href="#Mybatis-æ‰§è¡Œæ‰¹é‡æ’å…¥ï¼Œèƒ½è¿”å›æ•°æ®åº“ä¸»é”®åˆ—è¡¨å—ï¼Ÿ" class="headerlink" title="Mybatis æ‰§è¡Œæ‰¹é‡æ’å…¥ï¼Œèƒ½è¿”å›æ•°æ®åº“ä¸»é”®åˆ—è¡¨å—ï¼Ÿ"></a>Mybatis æ‰§è¡Œæ‰¹é‡æ’å…¥ï¼Œèƒ½è¿”å›æ•°æ®åº“ä¸»é”®åˆ—è¡¨å—ï¼Ÿ</h4><p>èƒ½ï¼ŒJDBC éƒ½èƒ½åšï¼ŒMybatis å½“ç„¶ä¹Ÿèƒ½åšã€‚</p>
<h4 id="åœ¨-Mapper-ä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°"><a href="#åœ¨-Mapper-ä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°" class="headerlink" title="åœ¨ Mapper ä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°?"></a>åœ¨ Mapper ä¸­å¦‚ä½•ä¼ é€’å¤šä¸ªå‚æ•°?</h4><p>ç¬¬ä¸€ç§ï¼Œä½¿ç”¨ Map é›†åˆ(ä¹Ÿå¯ä»¥å°è£…ä¸ºä¸€ä¸ªDomainå¯¹è±¡)ï¼Œè£…è½½å¤šä¸ªå‚æ•°è¿›è¡Œä¼ é€’ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-Java"><code class="language-Java">// è°ƒç”¨æ–¹æ³•
Map<string, object=""> map = new HashMap();
map.put("start", start);
map.put("end", end);
return studentMapper.selectStudents(map);

// Mapper æ¥å£
List<student> selectStudents(Map<string, object=""> map);

// Mapper XML ä»£ç 
<select id="selectStudents" parametertype="Map" resulttype="Student">
    SELECT *
    FROM students
    LIMIT #{start}, #{end}
</select>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></string,></student></string,></code></pre>
<ul>
<li>æ˜¾ç„¶ï¼Œè¿™ä¸æ˜¯ä¸€ç§ä¼˜é›…çš„æ–¹å¼ã€‚</li>
</ul>
<p>ç¬¬äºŒç§ï¼Œä¿æŒä¼ é€’å¤šä¸ªå‚æ•°ï¼Œä½¿ç”¨ <code>@Param</code> æ³¨è§£ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-Java"><code class="language-Java">// è°ƒç”¨æ–¹æ³•
return studentMapper.selectStudents(0, 10);

// Mapper æ¥å£
List<student> selectStudents(@Param("start") Integer start, @Param("end") Integer end);

// Mapper XML ä»£ç 
<select id="selectStudents" resulttype="Student">
    SELECT *
    FROM students
    LIMIT #{start}, #{end}
</select>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></student></code></pre>
<ul>
<li>æ¨èä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ã€‚</li>
</ul>
<p>ç¬¬ä¸‰ç§ï¼Œä¿æŒä¼ é€’å¤šä¸ªå‚æ•°ï¼Œä¸ä½¿ç”¨ <code>@Param</code> æ³¨è§£ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-Java"><code class="language-Java">// è°ƒç”¨æ–¹æ³•
return studentMapper.selectStudents(0, 10);

// Mapper æ¥å£
List<student> selectStudents(Integer start, Integer end);

// Mapper XML ä»£ç 
<select id="selectStudents" resulttype="Student">
    SELECT *
    FROM students
    LIMIT #{param1}, #{param2}
</select>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></student></code></pre>
<ul>
<li>å…¶ä¸­ï¼ŒæŒ‰ç…§å‚æ•°åœ¨æ–¹æ³•æ–¹æ³•ä¸­çš„ä½ç½®ï¼Œä» 1 å¼€å§‹ï¼Œé€ä¸ªä¸º <code>#{param1}</code>ã€<code>#{param2}</code>ã€<code>#{param3}</code> ä¸æ–­å‘ä¸‹ã€‚</li>
</ul>
<h4 id="Mybatis-æ˜¯å¦å¯ä»¥æ˜ å°„-Enum-æšä¸¾ç±»ï¼Ÿ"><a href="#Mybatis-æ˜¯å¦å¯ä»¥æ˜ å°„-Enum-æšä¸¾ç±»ï¼Ÿ" class="headerlink" title="Mybatis æ˜¯å¦å¯ä»¥æ˜ å°„ Enum æšä¸¾ç±»ï¼Ÿ"></a>Mybatis æ˜¯å¦å¯ä»¥æ˜ å°„ Enum æšä¸¾ç±»ï¼Ÿ</h4><p>Mybatis å¯ä»¥æ˜ å°„æšä¸¾ç±»ï¼Œå¯¹åº”çš„å®ç°ç±»ä¸º EnumTypeHandler æˆ– EnumOrdinalTypeHandler ã€‚</p>
<ul>
<li>EnumTypeHandler ï¼ŒåŸºäº <code>Enum.name</code> å±æ€§( String )ã€‚<strong>é»˜è®¤</strong>ã€‚</li>
<li>EnumOrdinalTypeHandler ï¼ŒåŸºäº <code>Enum.ordinal</code> å±æ€§( <code>int</code> )ã€‚å¯é€šè¿‡ <code>&lt;setting name=&quot;defaultEnumTypeHandler&quot; value=&quot;EnumOrdinalTypeHandler&quot; /&gt;</code> æ¥è®¾ç½®ã€‚</li>
</ul>
<p>ğŸ˜ˆ å½“ç„¶ï¼Œå®é™…å¼€å‘åœºæ™¯ï¼Œæˆ‘ä»¬å¾ˆå°‘ä½¿ç”¨ Enum ç±»å‹ï¼Œæ›´åŠ çš„æ–¹å¼æ˜¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-Java"><code class="language-Java">public class Dog {

    public static final int STATUS_GOOD = 1;
    public static final int STATUS_BETTER = 2;
    public static final int STATUS_BEST = 3ï¼›

    private int status;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¹¶ä¸”ï¼Œä¸å•å¯ä»¥æ˜ å°„æšä¸¾ç±»ï¼ŒMybatis å¯ä»¥æ˜ å°„ä»»ä½•å¯¹è±¡åˆ°è¡¨çš„ä¸€åˆ—ä¸Šã€‚æ˜ å°„æ–¹å¼ä¸ºè‡ªå®šä¹‰ä¸€ä¸ª TypeHandler ç±»ï¼Œå®ç° TypeHandler çš„<code>#setParameter(...)</code> å’Œ <code>#getResult(...)</code> æ¥å£æ–¹æ³•ã€‚</p>
<p>TypeHandler æœ‰ä¸¤ä¸ªä½œç”¨ï¼š</p>
<ul>
<li>ä¸€æ˜¯ï¼Œå®Œæˆä» javaType è‡³ jdbcType çš„è½¬æ¢ã€‚</li>
<li>äºŒæ˜¯ï¼Œå®Œæˆ jdbcType è‡³ javaType çš„è½¬æ¢ã€‚</li>
</ul>
<p>å…·ä½“ä½“ç°ä¸º <code>#setParameter(...)</code> å’Œ <code>#getResult(..)</code> ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«ä»£è¡¨è®¾ç½® SQL é—®å·å ä½ç¬¦å‚æ•°å’Œè·å–åˆ—æŸ¥è¯¢ç»“æœã€‚</p>
<h4 id="Mybatis-éƒ½æœ‰å“ªäº›-Executor-æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Mybatis-éƒ½æœ‰å“ªäº›-Executor-æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Mybatis éƒ½æœ‰å“ªäº› Executor æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Mybatis éƒ½æœ‰å“ªäº› Executor æ‰§è¡Œå™¨ï¼Ÿå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>Mybatis æœ‰å››ç§ Executor æ‰§è¡Œå™¨ï¼Œåˆ†åˆ«æ˜¯ SimpleExecutorã€ReuseExecutorã€BatchExecutorã€CachingExecutor ã€‚</p>
<ul>
<li>SimpleExecutor ï¼šæ¯æ‰§è¡Œä¸€æ¬¡ update æˆ– select æ“ä½œï¼Œå°±åˆ›å»ºä¸€ä¸ª Statement å¯¹è±¡ï¼Œç”¨å®Œç«‹åˆ»å…³é—­ Statement å¯¹è±¡ã€‚</li>
<li>ReuseExecutor ï¼šæ‰§è¡Œ update æˆ– select æ“ä½œï¼Œä»¥ SQL ä½œä¸ºkey æŸ¥æ‰¾<strong>ç¼“å­˜</strong>çš„ Statement å¯¹è±¡ï¼Œå­˜åœ¨å°±ä½¿ç”¨ï¼Œä¸å­˜åœ¨å°±åˆ›å»ºï¼›ç”¨å®Œåï¼Œä¸å…³é—­ Statement å¯¹è±¡ï¼Œè€Œæ˜¯æ”¾ç½®äºç¼“å­˜ <code>Map</code> å†…ï¼Œä¾›ä¸‹ä¸€æ¬¡ä½¿ç”¨ã€‚ç®€è¨€ä¹‹ï¼Œå°±æ˜¯é‡å¤ä½¿ç”¨ Statement å¯¹è±¡ã€‚</li>
<li>BatchExecutor ï¼šæ‰§è¡Œ update æ“ä½œï¼ˆæ²¡æœ‰ select æ“ä½œï¼Œå› ä¸º JDBC æ‰¹å¤„ç†ä¸æ”¯æŒ select æ“ä½œï¼‰ï¼Œå°†æ‰€æœ‰ SQL éƒ½æ·»åŠ åˆ°æ‰¹å¤„ç†ä¸­ï¼ˆé€šè¿‡ addBatch æ–¹æ³•ï¼‰ï¼Œç­‰å¾…ç»Ÿä¸€æ‰§è¡Œï¼ˆä½¿ç”¨ executeBatch æ–¹æ³•ï¼‰ã€‚å®ƒç¼“å­˜äº†å¤šä¸ª Statement å¯¹è±¡ï¼Œæ¯ä¸ª Statement å¯¹è±¡éƒ½æ˜¯è°ƒç”¨ addBatch æ–¹æ³•å®Œæ¯•åï¼Œç­‰å¾…ä¸€æ¬¡æ‰§è¡Œ executeBatch æ‰¹å¤„ç†ã€‚<strong>å®é™…ä¸Šï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸ JDBC æ‰¹å¤„ç†æ˜¯ç›¸åŒ</strong>ã€‚</li>
<li>CachingExecutor ï¼šåœ¨ä¸Šè¿°çš„ä¸‰ä¸ªæ‰§è¡Œå™¨ä¹‹ä¸Šï¼Œå¢åŠ <strong>äºŒçº§ç¼“å­˜</strong>çš„åŠŸèƒ½ã€‚</li>
</ul>
<p>é€šè¿‡è®¾ç½® <code>&lt;setting name=&quot;defaultExecutorType&quot; value=&quot;&quot;&gt;</code> çš„ <code>&quot;value&quot;</code> å±æ€§ï¼Œå¯ä¼ å…¥ SIMPLEã€REUSEã€BATCH ä¸‰ä¸ªå€¼ï¼Œåˆ†åˆ«ä½¿ç”¨ SimpleExecutorã€ReuseExecutorã€BatchExecutor æ‰§è¡Œå™¨ã€‚<br>é€šè¿‡è®¾ç½® <code>&lt;setting name=&quot;cacheEnabled&quot; value=&quot;&quot;</code> çš„ <code>&quot;value&quot;</code> å±æ€§ä¸º <code>true</code> æ—¶ï¼Œåˆ›å»º CachingExecutor æ‰§è¡Œå™¨ã€‚   </p>
<h4 id="MyBatis-å¦‚ä½•æ‰§è¡Œæ‰¹é‡æ’å…¥"><a href="#MyBatis-å¦‚ä½•æ‰§è¡Œæ‰¹é‡æ’å…¥" class="headerlink" title="MyBatis å¦‚ä½•æ‰§è¡Œæ‰¹é‡æ’å…¥?"></a>MyBatis å¦‚ä½•æ‰§è¡Œæ‰¹é‡æ’å…¥?</h4><p>é¦–å…ˆï¼Œåœ¨ Mapper XML ç¼–å†™ä¸€ä¸ªç®€å•çš„ Insert è¯­å¥ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-JavaScript"><code class="language-JavaScript"><insert id="insertUser" parametertype="String">
    INSERT INTO users(name)
    VALUES (#{value})
</insert>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç„¶åï¼Œç„¶ååœ¨å¯¹åº”çš„ Mapper æ¥å£ä¸­ï¼Œç¼–å†™æ˜ å°„çš„æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserMapper</span> <span class="token punctuation">{</span>

    <span class="token keyword">void</span> <span class="token function">insertUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span> String name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æœ€åï¼Œè°ƒç”¨è¯¥ Mapper æ¥å£æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> SqlSessionFactory sqlSessionFactory<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testBatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// åˆ›å»ºè¦æ’å…¥çš„ç”¨æˆ·çš„åå­—çš„æ•°ç»„</span>
    List<span class="token operator">&lt;</span>String<span class="token operator">></span> names <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    names<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"name1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    names<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"name2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    names<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"name3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    names<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"name4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">// è·å¾—æ‰§è¡Œå™¨ç±»å‹ä¸º Batch çš„ SqlSession å¯¹è±¡ï¼Œå¹¶ä¸” autoCommit = false ï¼Œç¦æ­¢äº‹åŠ¡è‡ªåŠ¨äº¤</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span>SqlSession session <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span>ExecutorType<span class="token punctuation">.</span>BATCH<span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// è·å¾— Mapper å¯¹è±¡</span>
        UserMapper mapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span>UserMapper<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å¾ªç¯æ’å…¥</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>String name <span class="token operator">:</span> names<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mapper<span class="token punctuation">.</span><span class="token function">insertUser</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// æäº¤æ‰¹é‡æ“ä½œ</span>
        session<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å½“ç„¶ï¼Œè¿˜æœ‰å¦ä¸€ç§æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š  </p>
<pre class="line-numbers language-javascript"><code class="language-javascript">INSERT INTO <span class="token punctuation">[</span>è¡¨å<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">[</span>åˆ—å<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>åˆ—å<span class="token punctuation">]</span><span class="token punctuation">)</span>
VALUES
<span class="token punctuation">(</span><span class="token punctuation">[</span>åˆ—å€¼<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>åˆ—å€¼<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span>åˆ—å€¼<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>åˆ—å€¼<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span>åˆ—å€¼<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>åˆ—å€¼<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>å¯¹äºè¿™ç§æ–¹å¼ï¼Œéœ€è¦ä¿è¯å•æ¡ SQL ä¸è¶…è¿‡è¯­å¥çš„æœ€å¤§é™åˆ¶ <code>max_allowed_packet</code> å¤§å°ï¼Œé»˜è®¤ä¸º 1 M ã€‚</li>
</ul>
<h4 id="ä»‹ç»-MyBatis-çš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„æ¦‚å¿µå’Œå®ç°åŸç†ï¼Ÿ"><a href="#ä»‹ç»-MyBatis-çš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„æ¦‚å¿µå’Œå®ç°åŸç†ï¼Ÿ" class="headerlink" title="ä»‹ç» MyBatis çš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„æ¦‚å¿µå’Œå®ç°åŸç†ï¼Ÿ"></a>ä»‹ç» MyBatis çš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„æ¦‚å¿µå’Œå®ç°åŸç†ï¼Ÿ</h4><p>å†…å®¹æœ‰äº›é•¿ï¼Œç›´æ¥å‚è§ <a href="https://tech.meituan.com/mybatis_cache.html" target="_blank" rel="noopener">ã€ŠèŠèŠ MyBatis ç¼“å­˜æœºåˆ¶ã€‹</a> ä¸€æ–‡ã€‚</p>
<hr>
<p>è¿™å—çš„æºç è§£æï¼Œå¯è§ <a href="http://svip.iocoder.cn/MyBatis/cache-package" target="_blank" rel="noopener">ã€Šç²¾å°½ MyBatis æºç åˆ†æ â€”â€” ç¼“å­˜æ¨¡å—ã€‹</a> ã€‚</p>
<h4 id="ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿ-Mybatis-æ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿ-Mybatis-æ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿ Mybatis æ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼Ÿ Mybatis æ˜¯å¦æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Ÿå¦‚æœæ”¯æŒï¼Œå®ƒçš„å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>åœ¨ä¸€å¯¹å¤šä¸­ï¼Œå½“æˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨æˆ·ï¼Œå®ƒæœ‰100ä¸ªè´¦æˆ·ã€‚é‚£ä¹ˆ  </p>
<ol>
<li>åœ¨æŸ¥è¯¢ç”¨æˆ·çš„æ—¶å€™ï¼Œè¦ä¸è¦æŠŠå…³è”çš„è´¦æˆ·æŸ¥å‡ºæ¥ï¼Ÿ  </li>
<li>åœ¨æŸ¥è¯¢è´¦æˆ·çš„æ—¶å€™ï¼Œè¦ä¸è¦æŠŠå…³è”çš„ç”¨æˆ·æŸ¥å‡ºæ¥ï¼Ÿ    </li>
</ol>
<p>åœ¨å®é™…ä¸­ï¼š</p>
<ol>
<li>åœ¨æŸ¥è¯¢ç”¨æˆ·æ—¶ï¼Œç”¨æˆ·ä¸‹çš„è´¦æˆ·ä¿¡æ¯åº”è¯¥æ˜¯ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Œä»€ä¹ˆæ—¶å€™æŸ¥è¯¢çš„ã€‚  </li>
<li>åœ¨æŸ¥è¯¢è´¦æˆ·æ—¶ï¼Œè´¦æˆ·çš„æ‰€å±ç”¨æˆ·ä¿¡æ¯åº”è¯¥æ˜¯éšç€è´¦æˆ·æŸ¥è¯¢æ—¶ä¸€èµ·æŸ¥è¯¢å‡ºæ¥ã€‚     </li>
</ol>
<p>ä»€ä¹ˆæ˜¯å»¶è¿ŸåŠ è½½ï¼š<br>    åœ¨çœŸæ­£ä½¿ç”¨æ•°æ®æ—¶æ‰å‘èµ·æŸ¥è¯¢ï¼Œä¸ç”¨çš„æ—¶å€™ä¸æŸ¥è¯¢ã€‚æŒ‰éœ€åŠ è½½ï¼ˆæ‡’åŠ è½½ï¼‰<br>ä»€ä¹ˆæ˜¯ç«‹å³åŠ è½½ï¼š<br>    ä¸ç®¡ç”¨ä¸ç”¨ï¼Œåªè¦ä¸€è°ƒç”¨æ–¹æ³•ï¼Œé©¬ä¸Šå‘èµ·æŸ¥è¯¢ã€‚<br>åœ¨å¯¹åº”çš„å››ç§è¡¨å…³ç³»ä¸­ï¼š<code>ä¸€å¯¹å¤š</code>ï¼Œ<code>å¤šå¯¹ä¸€</code>ï¼Œ<code>ä¸€å¯¹ä¸€</code>ï¼Œ<code>å¤šå¯¹å¤š</code><br>    <code>ä¸€å¯¹å¤š</code>ï¼Œ<code>å¤šå¯¹å¤š</code>ï¼šé€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯é‡‡ç”¨å»¶è¿ŸåŠ è½½ã€‚<br>    <code>å¤šå¯¹ä¸€</code>ï¼Œ<code>ä¸€å¯¹ä¸€</code>ï¼šé€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯é‡‡ç”¨ç«‹å³åŠ è½½ã€‚<br>Mybatis ä»…æ”¯æŒ association å…³è”å¯¹è±¡å’Œ collection å…³è”é›†åˆå¯¹è±¡çš„å»¶è¿ŸåŠ è½½ã€‚å…¶ä¸­ï¼Œassociation æŒ‡çš„å°±æ˜¯<strong>ä¸€å¯¹ä¸€</strong>ï¼Œcollection æŒ‡çš„å°±æ˜¯<strong>ä¸€å¯¹å¤šæŸ¥è¯¢</strong>ã€‚</p>
<p>åœ¨ Mybatis é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é…ç½® <code>&lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot; /&gt;</code> æ¥å¯ç”¨å»¶è¿ŸåŠ è½½çš„åŠŸèƒ½ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå»¶è¿ŸåŠ è½½çš„åŠŸèƒ½æ˜¯<strong>å…³é—­</strong>çš„ã€‚<br>å®ƒçš„åŸç†æ˜¯ï¼Œä½¿ç”¨ CGLIB æˆ– Javassist( é»˜è®¤ ) åˆ›å»ºç›®æ ‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡ã€‚å½“è°ƒç”¨ä»£ç†å¯¹è±¡çš„å»¶è¿ŸåŠ è½½å±æ€§çš„ getter æ–¹æ³•æ—¶ï¼Œè¿›å…¥æ‹¦æˆªå™¨æ–¹æ³•ã€‚æ¯”å¦‚è°ƒç”¨ <code>a.getB().getName()</code> æ–¹æ³•ï¼Œè¿›å…¥æ‹¦æˆªå™¨çš„ <code>invoke(...)</code> æ–¹æ³•ï¼Œå‘ç° <code>a.getB()</code>éœ€è¦å»¶è¿ŸåŠ è½½æ—¶ï¼Œé‚£ä¹ˆå°±ä¼šå•ç‹¬å‘é€äº‹å…ˆä¿å­˜å¥½çš„æŸ¥è¯¢å…³è” B å¯¹è±¡çš„ SQL ï¼ŒæŠŠ B æŸ¥è¯¢ä¸Šæ¥ï¼Œç„¶åè°ƒç”¨<code>a.setB(b)</code> æ–¹æ³•ï¼Œäºæ˜¯ <code>a</code> å¯¹è±¡ <code>b</code> å±æ€§å°±æœ‰å€¼äº†ï¼Œæ¥ç€å®Œæˆ<code>a.getB().getName()</code> æ–¹æ³•çš„è°ƒç”¨ã€‚è¿™å°±æ˜¯å»¶è¿ŸåŠ è½½çš„åŸºæœ¬åŸç†ã€‚</p>
<p>å½“ç„¶äº†ï¼Œä¸å…‰æ˜¯ Mybatisï¼Œå‡ ä¹æ‰€æœ‰çš„åŒ…æ‹¬ Hibernate åœ¨å†…ï¼Œæ”¯æŒå»¶è¿ŸåŠ è½½çš„åŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<h4 id="Mybatis-èƒ½å¦æ‰§è¡Œä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢å—ï¼Ÿéƒ½æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚"><a href="#Mybatis-èƒ½å¦æ‰§è¡Œä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢å—ï¼Ÿéƒ½æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚" class="headerlink" title="Mybatis èƒ½å¦æ‰§è¡Œä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢å—ï¼Ÿéƒ½æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚"></a>Mybatis èƒ½å¦æ‰§è¡Œä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢å—ï¼Ÿéƒ½æœ‰å“ªäº›å®ç°æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ã€‚</h4><p>èƒ½ï¼ŒMybatis ä¸ä»…å¯ä»¥æ‰§è¡Œä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šçš„å…³è”æŸ¥è¯¢ï¼Œè¿˜å¯ä»¥æ‰§è¡Œå¤šå¯¹ä¸€ï¼Œå¤šå¯¹å¤šçš„å…³è”æŸ¥è¯¢ã€‚</p>
<blockquote>
<p>è‰¿è‰¿ï¼šä¸è¿‡è²Œä¼¼ï¼Œæˆ‘è‡ªå·±å®é™…å¼€å‘ä¸­ï¼Œè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢è‡ªå·±å»æŸ¥è¯¢å’Œæ‹¼æ¥æ˜ å°„çš„æ•°æ®ã€‚ğŸ˜ˆ</p>
</blockquote>
<ul>
<li>å¤šå¯¹ä¸€æŸ¥è¯¢ï¼Œå…¶å®å°±æ˜¯ä¸€å¯¹ä¸€æŸ¥è¯¢ï¼Œåªéœ€è¦æŠŠ <code>selectOne(...)</code> ä¿®æ”¹ä¸º <code>selectList(...)</code> å³å¯ã€‚æ¡ˆä¾‹å¯è§ <a href="https://blog.csdn.net/xzm_rainbow/article/details/15336959" target="_blank" rel="noopener">ã€ŠMyBatisï¼šå¤šå¯¹ä¸€è¡¨å…³ç³»è¯¦è§£ã€‹</a> ã€‚</li>
<li>å¤šå¯¹å¤šæŸ¥è¯¢ï¼Œå…¶å®å°±æ˜¯ä¸€å¯¹å¤šæŸ¥è¯¢ï¼Œåªéœ€è¦æŠŠ <code>#selectOne(...)</code> ä¿®æ”¹ä¸º <code>selectList(...)</code> å³å¯ã€‚æ¡ˆä¾‹å¯è§ <a href="https://blog.csdn.net/eson_15/article/details/51655188" target="_blank" rel="noopener">ã€Šã€MyBatiså­¦ä¹ 10ã€‘é«˜çº§æ˜ å°„ä¹‹å¤šå¯¹å¤šæŸ¥è¯¢ã€‹</a> ã€‚</li>
</ul>
<hr>
<p>å…³è”å¯¹è±¡æŸ¥è¯¢ï¼Œæœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<blockquote>
<p>è‰¿è‰¿ï¼šæ‰€æœ‰çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå³ä¼šæœ‰å¥½å¤„ï¼Œåˆä¼šæœ‰åå¤„ã€‚å¾ˆéš¾å‡ºç°ï¼Œä¸€ä¸ªå®Œç¾çš„é“¶å¼¹æ–¹æ¡ˆã€‚</p>
</blockquote>
<ul>
<li>ä¸€ç§æ˜¯å•ç‹¬å‘é€ä¸€ä¸ª SQL å»æŸ¥è¯¢å…³è”å¯¹è±¡ï¼Œèµ‹ç»™ä¸»å¯¹è±¡ï¼Œç„¶åè¿”å›ä¸»å¯¹è±¡ã€‚å¥½å¤„æ˜¯å¤šæ¡ SQL åˆ†å¼€ï¼Œç›¸å¯¹ç®€å•ï¼Œåå¤„æ˜¯å‘èµ·çš„ SQL å¯èƒ½ä¼šæ¯”è¾ƒå¤šã€‚</li>
<li>å¦ä¸€ç§æ˜¯ä½¿ç”¨åµŒå¥—æŸ¥è¯¢ï¼ŒåµŒå¥—æŸ¥è¯¢çš„å«ä¹‰ä¸ºä½¿ç”¨ <code>join</code> æŸ¥è¯¢ï¼Œä¸€éƒ¨åˆ†åˆ—æ˜¯ A å¯¹è±¡çš„å±æ€§å€¼ï¼Œå¦å¤–ä¸€éƒ¨åˆ†åˆ—æ˜¯å…³è”å¯¹è±¡ B çš„å±æ€§å€¼ã€‚å¥½å¤„æ˜¯åªå‘ä¸€ä¸ª SQL æŸ¥è¯¢ï¼Œå°±å¯ä»¥æŠŠä¸»å¯¹è±¡å’Œå…¶å…³è”å¯¹è±¡æŸ¥å‡ºæ¥ï¼Œåå¤„æ˜¯ SQL å¯èƒ½æ¯”è¾ƒå¤æ‚ã€‚</li>
</ul>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ<code>join</code> æŸ¥è¯¢å‡ºæ¥ 100 æ¡è®°å½•ï¼Œå¦‚ä½•ç¡®å®šä¸»å¯¹è±¡æ˜¯ 5 ä¸ªï¼Œè€Œä¸æ˜¯ 100 ä¸ªå‘¢ï¼Ÿå…¶å»é‡å¤çš„åŸç†æ˜¯ <code>æ ‡ç­¾å†…çš„</code> å­æ ‡ç­¾ï¼ŒæŒ‡å®šäº†å”¯ä¸€ç¡®å®šä¸€æ¡è®°å½•çš„ <code>id</code> åˆ—ã€‚Mybatis ä¼šæ ¹æ®<code>åˆ—å€¼æ¥å®Œæˆ 100 æ¡è®°å½•çš„å»é‡å¤åŠŸèƒ½ï¼Œ</code> å¯ä»¥æœ‰å¤šä¸ªï¼Œä»£è¡¨äº†è”åˆä¸»é”®çš„è¯­æ„ã€‚</p>
<p>åŒæ ·ä¸»å¯¹è±¡çš„å…³è”å¯¹è±¡ï¼Œä¹Ÿæ˜¯æ ¹æ®è¿™ä¸ªåŸç†å»é‡å¤çš„ã€‚å°½ç®¡ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸»å¯¹è±¡ä¼šæœ‰é‡å¤è®°å½•ï¼Œå…³è”å¯¹è±¡ä¸€èˆ¬ä¸ä¼šé‡å¤ã€‚ä¾‹å¦‚ï¼šä¸‹é¢ <code>join</code> æŸ¥è¯¢å‡ºæ¥6æ¡è®°å½•ï¼Œä¸€ã€äºŒåˆ—æ˜¯ Teacher å¯¹è±¡åˆ—ï¼Œç¬¬ä¸‰åˆ—ä¸º Student å¯¹è±¡åˆ—ã€‚Mybatis å»é‡å¤å¤„ç†åï¼Œç»“æœä¸º 1 ä¸ªè€å¸ˆå’Œ 6 ä¸ªå­¦ç”Ÿï¼Œè€Œä¸æ˜¯ 6 ä¸ªè€å¸ˆå’Œ 6 ä¸ªå­¦ç”Ÿã€‚</p>
<table>
<thead>
<tr>
<th style="text-align:left">t_id</th>
<th style="text-align:left">t_name</th>
<th style="text-align:left">s_id</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">teacher</td>
<td style="text-align:left">38</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">teacher</td>
<td style="text-align:left">39</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">teacher</td>
<td style="text-align:left">40</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">teacher</td>
<td style="text-align:left">41</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">teacher</td>
<td style="text-align:left">42</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">teacher</td>
<td style="text-align:left">43</td>
</tr>
</tbody>
</table>
<h4 id="ç®€è¿°-Mybatis-çš„æ’ä»¶è¿è¡ŒåŸç†ï¼Ÿä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Ÿ"><a href="#ç®€è¿°-Mybatis-çš„æ’ä»¶è¿è¡ŒåŸç†ï¼Ÿä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Ÿ" class="headerlink" title="ç®€è¿° Mybatis çš„æ’ä»¶è¿è¡ŒåŸç†ï¼Ÿä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Ÿ"></a>ç®€è¿° Mybatis çš„æ’ä»¶è¿è¡ŒåŸç†ï¼Ÿä»¥åŠå¦‚ä½•ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Ÿ</h4><p>Mybatis ä»…å¯ä»¥ç¼–å†™é’ˆå¯¹ ParameterHandlerã€ResultSetHandlerã€StatementHandlerã€Executor è¿™ 4 ç§æ¥å£çš„æ’ä»¶ã€‚</p>
<p>Mybatis ä½¿ç”¨ JDK çš„åŠ¨æ€ä»£ç†ï¼Œä¸ºéœ€è¦æ‹¦æˆªçš„æ¥å£ç”Ÿæˆä»£ç†å¯¹è±¡ä»¥å®ç°æ¥å£æ–¹æ³•æ‹¦æˆªåŠŸèƒ½ï¼Œæ¯å½“æ‰§è¡Œè¿™ 4 ç§æ¥å£å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œå°±ä¼šè¿›å…¥æ‹¦æˆªæ–¹æ³•ï¼Œå…·ä½“å°±æ˜¯ InvocationHandler çš„ <code>#invoke(...)</code>æ–¹æ³•ã€‚å½“ç„¶ï¼Œåªä¼šæ‹¦æˆªé‚£äº›ä½ æŒ‡å®šéœ€è¦æ‹¦æˆªçš„æ–¹æ³•ã€‚</p>
<p>ç¼–å†™ä¸€ä¸ª MyBatis æ’ä»¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>é¦–å…ˆï¼Œå®ç° Mybatis çš„ Interceptor æ¥å£ï¼Œå¹¶å®ç° <code>#intercept(...)</code> æ–¹æ³•ã€‚</li>
<li>ç„¶åï¼Œåœ¨ç»™æ’ä»¶ç¼–å†™æ³¨è§£ï¼ŒæŒ‡å®šè¦æ‹¦æˆªå“ªä¸€ä¸ªæ¥å£çš„å“ªäº›æ–¹æ³•å³å¯</li>
<li>æœ€åï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ä½ ç¼–å†™çš„æ’ä»¶ã€‚</li>
</ol>
<p>å…·ä½“çš„ï¼Œå¯ä»¥å‚è€ƒ <a href="http://www.mybatis.org/mybatis-3/zh/configuration.html#plugins" target="_blank" rel="noopener">ã€ŠMyBatis å®˜æ–¹æ–‡æ¡£ â€”â€” æ’ä»¶ã€‹</a> ã€‚</p>
<h4 id="Mybatis-æ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Mybatis-æ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Mybatis æ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Mybatis æ˜¯å¦‚ä½•è¿›è¡Œåˆ†é¡µçš„ï¼Ÿåˆ†é¡µæ’ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>Mybatis ä½¿ç”¨ RowBounds å¯¹è±¡è¿›è¡Œåˆ†é¡µï¼Œå®ƒæ˜¯é’ˆå¯¹ ResultSet ç»“æœé›†æ‰§è¡Œçš„<strong>å†…å­˜åˆ†é¡µ</strong>ï¼Œè€Œé<strong>æ•°æ®åº“åˆ†é¡µ</strong>ã€‚</p>
<p>æ‰€ä»¥ï¼Œå®é™…åœºæ™¯ä¸‹ï¼Œä¸é€‚åˆç›´æ¥ä½¿ç”¨ MyBatis åŸæœ‰çš„ RowBounds å¯¹è±¡è¿›è¡Œåˆ†é¡µã€‚è€Œæ˜¯ä½¿ç”¨å¦‚ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼š</p>
<ul>
<li>åœ¨ SQL å†…ç›´æ¥ä¹¦å†™å¸¦æœ‰æ•°æ®åº“åˆ†é¡µçš„å‚æ•°æ¥å®Œæˆæ•°æ®åº“åˆ†é¡µåŠŸèƒ½</li>
<li>ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ†é¡µæ’ä»¶æ¥å®Œæˆæ•°æ®åº“åˆ†é¡µã€‚</li>
</ul>
<p>è¿™ä¸¤è€…éƒ½æ˜¯åŸºäºæ•°æ®åº“åˆ†é¡µï¼Œå·®åˆ«åœ¨äºå‰è€…æ˜¯å·¥ç¨‹å¸ˆ<strong>æ‰‹åŠ¨</strong>ç¼–å†™åˆ†é¡µæ¡ä»¶ï¼Œåè€…æ˜¯æ’ä»¶<strong>è‡ªåŠ¨</strong>æ·»åŠ åˆ†é¡µæ¡ä»¶ã€‚</p>
<p>åˆ†é¡µæ’ä»¶çš„åŸºæœ¬åŸç†æ˜¯ä½¿ç”¨ Mybatis æä¾›çš„æ’ä»¶æ¥å£ï¼Œå®ç°è‡ªå®šä¹‰åˆ†é¡µæ’ä»¶ã€‚åœ¨æ’ä»¶çš„æ‹¦æˆªæ–¹æ³•å†…ï¼Œæ‹¦æˆªå¾…æ‰§è¡Œçš„ SQL ï¼Œç„¶åé‡å†™ SQL ï¼Œæ ¹æ®dialect æ–¹è¨€ï¼Œæ·»åŠ å¯¹åº”çš„ç‰©ç†åˆ†é¡µè¯­å¥å’Œç‰©ç†åˆ†é¡µå‚æ•°ã€‚</p>
<p>ä¸¾ä¾‹ï¼š<code>SELECT * FROM student</code> ï¼Œæ‹¦æˆª SQL åé‡å†™ä¸ºï¼š<code>select * FROM student LIMI 0ï¼Œ10</code> ã€‚</p>
<p>ç›®å‰å¸‚é¢ä¸Šç›®å‰ä½¿ç”¨æ¯”è¾ƒå¹¿æ³›çš„ MyBatis åˆ†é¡µæ’ä»¶æœ‰ï¼š</p>
<ul>
<li><a href="https://github.com/pagehelper/Mybatis-PageHelper" target="_blank" rel="noopener">Mybatis-PageHelper</a></li>
<li><a href="https://github.com/baomidou/mybatis-plus" target="_blank" rel="noopener">MyBatis-Plus</a></li>
</ul>
<p>ä»ç°åœ¨çœ‹æ¥ï¼Œ<a href="https://github.com/baomidou/mybatis-plus" target="_blank" rel="noopener">MyBatis-Plus</a> é€æ­¥ä½¿ç”¨çš„æ›´åŠ å¹¿æ³›ã€‚</p>
<h4 id="MyBatis-ä¸-Hibernate-æœ‰å“ªäº›ä¸åŒï¼Ÿ"><a href="#MyBatis-ä¸-Hibernate-æœ‰å“ªäº›ä¸åŒï¼Ÿ" class="headerlink" title="MyBatis ä¸ Hibernate æœ‰å“ªäº›ä¸åŒï¼Ÿ"></a>MyBatis ä¸ Hibernate æœ‰å“ªäº›ä¸åŒï¼Ÿ</h4><p>Mybatis å’Œ Hibernate ä¸åŒï¼Œå®ƒ<strong>ä¸å®Œå…¨æ˜¯</strong>ä¸€ä¸ª ORM æ¡†æ¶ï¼Œå› ä¸ºMyBatis éœ€è¦ç¨‹åºå‘˜è‡ªå·±ç¼–å†™ SQL è¯­å¥ã€‚ä¸è¿‡ MyBatis å¯ä»¥é€šè¿‡ XML æˆ–æ³¨è§£æ–¹å¼çµæ´»é…ç½®è¦è¿è¡Œçš„ SQL è¯­å¥ï¼Œå¹¶å°† Java å¯¹è±¡å’Œ SQL è¯­å¥æ˜ å°„ç”Ÿæˆæœ€ç»ˆæ‰§è¡Œçš„ SQL ï¼Œæœ€åå°† SQL æ‰§è¡Œçš„ç»“æœå†æ˜ å°„ç”Ÿæˆ Java å¯¹è±¡ã€‚</p>
<p>Mybatis å­¦ä¹ é—¨æ§›ä½ï¼Œç®€å•æ˜“å­¦ï¼Œç¨‹åºå‘˜ç›´æ¥ç¼–å†™åŸç”Ÿæ€ SQL ï¼Œå¯ä¸¥æ ¼æ§åˆ¶ SQL æ‰§è¡Œæ€§èƒ½ï¼Œçµæ´»åº¦é«˜ã€‚ä½†æ˜¯çµæ´»çš„å‰ææ˜¯ MyBatis æ— æ³•åšåˆ°æ•°æ®åº“æ— å…³æ€§ï¼Œå¦‚æœéœ€è¦å®ç°æ”¯æŒå¤šç§æ•°æ®åº“çš„è½¯ä»¶åˆ™éœ€è¦è‡ªå®šä¹‰å¤šå¥— SQL æ˜ å°„æ–‡ä»¶ï¼Œå·¥ä½œé‡å¤§ã€‚</p>
<p>Hibernate å¯¹è±¡/å…³ç³»æ˜ å°„èƒ½åŠ›å¼ºï¼Œæ•°æ®åº“æ— å…³æ€§å¥½ã€‚å¦‚æœç”¨ Hibernate å¼€å‘å¯ä»¥èŠ‚çœå¾ˆå¤šä»£ç ï¼Œæé«˜æ•ˆç‡ã€‚ä½†æ˜¯ Hibernate çš„ç¼ºç‚¹æ˜¯å­¦ä¹ é—¨æ§›é«˜ï¼Œè¦ç²¾é€šé—¨æ§›æ›´é«˜ï¼Œè€Œä¸”æ€ä¹ˆè®¾è®¡ O/R æ˜ å°„ï¼Œåœ¨æ€§èƒ½å’Œå¯¹è±¡æ¨¡å‹ä¹‹é—´å¦‚ä½•æƒè¡¡ï¼Œä»¥åŠæ€æ ·ç”¨å¥½ Hibernate éœ€è¦å…·æœ‰å¾ˆå¼ºçš„ç»éªŒå’Œèƒ½åŠ›æ‰è¡Œã€‚</p>
<p>æ€»ä¹‹ï¼ŒæŒ‰ç…§ç”¨æˆ·çš„éœ€æ±‚åœ¨æœ‰é™çš„èµ„æºç¯å¢ƒä¸‹åªè¦èƒ½åšå‡ºç»´æŠ¤æ€§ã€æ‰©å±•æ€§è‰¯å¥½çš„è½¯ä»¶æ¶æ„éƒ½æ˜¯å¥½æ¶æ„ï¼Œæ‰€ä»¥æ¡†æ¶åªæœ‰é€‚åˆæ‰æ˜¯æœ€å¥½ã€‚ç®€å•æ€»ç»“å¦‚ä¸‹ï¼š</p>
<ul>
<li>Hibernate å±äºå…¨è‡ªåŠ¨ ORM æ˜ å°„å·¥å…·ï¼Œä½¿ç”¨ Hibernate æŸ¥è¯¢å…³è”å¯¹è±¡æˆ–è€…å…³è”é›†åˆå¯¹è±¡æ—¶ï¼Œå¯ä»¥æ ¹æ®å¯¹è±¡å…³ç³»æ¨¡å‹ç›´æ¥è·å–ã€‚</li>
<li>Mybatis å±äºåŠè‡ªåŠ¨ ORM æ˜ å°„å·¥å…·ï¼Œåœ¨æŸ¥è¯¢å…³è”å¯¹è±¡æˆ–å…³è”é›†åˆå¯¹è±¡æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–å†™ SQL æ¥å®Œæˆã€‚</li>
</ul>
<p>å¦å¤–ï¼Œåœ¨ <a href="https://www.jianshu.com/p/96171e647885" target="_blank" rel="noopener">ã€Šæµ…æ Mybatis ä¸ Hibernate çš„åŒºåˆ«ä¸ç”¨é€”ã€‹</a> æ–‡ç« ï¼Œä¹Ÿæ˜¯å†™çš„éå¸¸ä¸é”™çš„ã€‚</p>
<p>å½“ç„¶ï¼Œå®é™…ä¸Šï¼ŒMyBatis ä¹Ÿå¯ä»¥æ­é…è‡ªåŠ¨ç”Ÿæˆä»£ç çš„å·¥å…·ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <a href="http://mp.baomidou.com/" target="_blank" rel="noopener">MyBatis-Plus</a> æ¡†æ¶ï¼Œå·²ç»å†…ç½®å¸¸ç”¨çš„ SQL æ“ä½œï¼Œä¹Ÿæ˜¯éå¸¸ä¸é”™çš„ã€‚</p>
<h4 id="JDBC-ç¼–ç¨‹æœ‰å“ªäº›ä¸è¶³ä¹‹å¤„ï¼ˆé—®é¢˜ï¼‰ï¼ŒMyBatisæ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„ï¼Ÿ"><a href="#JDBC-ç¼–ç¨‹æœ‰å“ªäº›ä¸è¶³ä¹‹å¤„ï¼ˆé—®é¢˜ï¼‰ï¼ŒMyBatisæ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„ï¼Ÿ" class="headerlink" title="JDBC ç¼–ç¨‹æœ‰å“ªäº›ä¸è¶³ä¹‹å¤„ï¼ˆé—®é¢˜ï¼‰ï¼ŒMyBatisæ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„ï¼Ÿ"></a>JDBC ç¼–ç¨‹æœ‰å“ªäº›ä¸è¶³ä¹‹å¤„ï¼ˆé—®é¢˜ï¼‰ï¼ŒMyBatisæ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„ï¼Ÿ</h4><p>é—®é¢˜ä¸€ï¼šSQL è¯­å¥å†™åœ¨ä»£ç ä¸­é€ æˆä»£ç ä¸æ˜“ç»´æŠ¤ï¼Œä¸”ä»£ç ä¼šæ¯”è¾ƒæ··ä¹±ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼šå°† SQL è¯­å¥é…ç½®åœ¨ Mapper XML æ–‡ä»¶ä¸­ï¼Œä¸ Java ä»£ç åˆ†ç¦»ã€‚</p>
<p>é—®é¢˜äºŒï¼šæ ¹æ®å‚æ•°ä¸åŒï¼Œæ‹¼æ¥ä¸åŒçš„ SQL è¯­å¥éå¸¸éº»çƒ¦ã€‚ä¾‹å¦‚ SQL è¯­å¥çš„ WHERE æ¡ä»¶ä¸ä¸€å®šï¼Œå¯èƒ½å¤šä¹Ÿå¯èƒ½å°‘ï¼Œå ä½ç¬¦éœ€è¦å’Œå‚æ•°ä¸€ä¸€å¯¹åº”ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼šMyBatis æä¾› <code>&lt;where /&gt;</code>ã€<code>&lt;if /&gt;</code> ç­‰ç­‰åŠ¨æ€è¯­å¥æ‰€éœ€è¦çš„æ ‡ç­¾ï¼Œå¹¶æ”¯æŒ OGNL è¡¨è¾¾å¼ï¼Œç®€åŒ–äº†åŠ¨æ€ SQL æ‹¼æ¥çš„ä»£ç ï¼Œæå‡äº†å¼€å‘æ•ˆç‡ã€‚</p>
<hr>
<p>é—®é¢˜ä¸‰ï¼Œå¯¹ç»“æœé›†è§£æéº»çƒ¦ï¼ŒSQL å˜åŒ–å¯èƒ½å¯¼è‡´è§£æä»£ç å˜åŒ–ï¼Œä¸”è§£æå‰éœ€è¦éå†ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼šMybatis è‡ªåŠ¨å°† SQL æ‰§è¡Œç»“æœæ˜ å°„æˆ Java å¯¹è±¡ã€‚</p>
<hr>
<p>é—®é¢˜å››ï¼Œæ•°æ®åº“é“¾æ¥åˆ›å»ºã€é‡Šæ”¾é¢‘ç¹é€ æˆç³»ç»Ÿèµ„æºæµªè´¹ä»è€Œå½±å“ç³»ç»Ÿæ€§èƒ½ï¼Œå¦‚æœä½¿ç”¨æ•°æ®åº“é“¾æ¥æ± å¯è§£å†³æ­¤é—®é¢˜ã€‚</p>
<p>è§£å†³æ–¹å¼ï¼šåœ¨ <code>mybatis-config.xml</code> ä¸­ï¼Œé…ç½®æ•°æ®é“¾æ¥æ± ï¼Œä½¿ç”¨è¿æ¥æ± ç®¡ç†æ•°æ®åº“é“¾æ¥ã€‚</p>
<p>å½“ç„¶ï¼Œå³ä½¿ä¸ä½¿ç”¨ MyBatis ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± ã€‚<br>å¦å¤–ï¼ŒMyBatis é»˜è®¤æä¾›äº†æ•°æ®åº“è¿æ¥æ± çš„å®ç°ï¼Œåªæ˜¯è¯´ï¼Œå› ä¸ºå…¶å®ƒå¼€æºçš„æ•°æ®åº“è¿æ¥æ± æ€§èƒ½æ›´å¥½ï¼Œæ‰€ä»¥ä¸€èˆ¬å¾ˆå°‘ä½¿ç”¨ MyBatis è‡ªå¸¦çš„è¿æ¥æ± å®ç°ã€‚</p>
<h4 id="Mybatis-æ¯”-IBatis-æ¯”è¾ƒå¤§çš„å‡ ä¸ªæ”¹è¿›æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Mybatis-æ¯”-IBatis-æ¯”è¾ƒå¤§çš„å‡ ä¸ªæ”¹è¿›æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Mybatis æ¯” IBatis æ¯”è¾ƒå¤§çš„å‡ ä¸ªæ”¹è¿›æ˜¯ä»€ä¹ˆï¼Ÿ"></a>Mybatis æ¯” IBatis æ¯”è¾ƒå¤§çš„å‡ ä¸ªæ”¹è¿›æ˜¯ä»€ä¹ˆï¼Ÿ</h4><blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªé€‰æ‹©æ€§äº†è§£çš„é—®é¢˜ï¼Œå› ä¸ºå¯èƒ½ç°åœ¨å¾ˆå¤šé¢è¯•å®˜ï¼Œéƒ½æ²¡ç”¨è¿‡ IBatis æ¡†æ¶ã€‚</p>
</blockquote>
<ol>
<li>æœ‰æ¥å£ç»‘å®šï¼ŒåŒ…æ‹¬æ³¨è§£ç»‘å®š SQL å’Œ XML ç»‘å®š SQL ã€‚</li>
<li>åŠ¨æ€ SQL ç”±åŸæ¥çš„èŠ‚ç‚¹é…ç½®å˜æˆ OGNL è¡¨è¾¾å¼ã€‚</li>
<li>åœ¨ä¸€å¯¹ä¸€æˆ–ä¸€å¯¹å¤šçš„æ—¶å€™ï¼Œå¼•è¿›äº† <code>association</code> ï¼Œåœ¨ä¸€å¯¹å¤šçš„æ—¶å€™ï¼Œå¼•å…¥äº† <code>collection</code>èŠ‚ç‚¹ï¼Œä¸è¿‡éƒ½æ˜¯åœ¨ <code></code> é‡Œé¢é…ç½®ã€‚</li>
</ol>
<h4 id="Mybatis-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œå¦‚æœ-A-æ ‡ç­¾é€šè¿‡-include-å¼•ç”¨äº†Bæ ‡ç­¾çš„å†…å®¹ï¼Œè¯·é—®ï¼ŒB-æ ‡ç­¾èƒ½å¦å®šä¹‰åœ¨-A-æ ‡ç­¾çš„åé¢ï¼Œè¿˜æ˜¯è¯´å¿…é¡»å®šä¹‰åœ¨Aæ ‡ç­¾çš„å‰é¢ï¼Ÿ"><a href="#Mybatis-æ˜ å°„æ–‡ä»¶ä¸­ï¼Œå¦‚æœ-A-æ ‡ç­¾é€šè¿‡-include-å¼•ç”¨äº†Bæ ‡ç­¾çš„å†…å®¹ï¼Œè¯·é—®ï¼ŒB-æ ‡ç­¾èƒ½å¦å®šä¹‰åœ¨-A-æ ‡ç­¾çš„åé¢ï¼Œè¿˜æ˜¯è¯´å¿…é¡»å®šä¹‰åœ¨Aæ ‡ç­¾çš„å‰é¢ï¼Ÿ" class="headerlink" title="Mybatis æ˜ å°„æ–‡ä»¶ä¸­ï¼Œå¦‚æœ A æ ‡ç­¾é€šè¿‡ include å¼•ç”¨äº†Bæ ‡ç­¾çš„å†…å®¹ï¼Œè¯·é—®ï¼ŒB æ ‡ç­¾èƒ½å¦å®šä¹‰åœ¨ A æ ‡ç­¾çš„åé¢ï¼Œè¿˜æ˜¯è¯´å¿…é¡»å®šä¹‰åœ¨Aæ ‡ç­¾çš„å‰é¢ï¼Ÿ"></a>Mybatis æ˜ å°„æ–‡ä»¶ä¸­ï¼Œå¦‚æœ A æ ‡ç­¾é€šè¿‡ include å¼•ç”¨äº†Bæ ‡ç­¾çš„å†…å®¹ï¼Œè¯·é—®ï¼ŒB æ ‡ç­¾èƒ½å¦å®šä¹‰åœ¨ A æ ‡ç­¾çš„åé¢ï¼Œè¿˜æ˜¯è¯´å¿…é¡»å®šä¹‰åœ¨Aæ ‡ç­¾çš„å‰é¢ï¼Ÿ</h4><p>è™½ç„¶ Mybatis è§£æ XML æ˜ å°„æ–‡ä»¶æ˜¯<strong>æŒ‰ç…§é¡ºåº</strong>è§£æçš„ã€‚ä½†æ˜¯ï¼Œè¢«å¼•ç”¨çš„ B æ ‡ç­¾ä¾ç„¶å¯ä»¥å®šä¹‰åœ¨ä»»ä½•åœ°æ–¹ï¼ŒMybatis éƒ½å¯ä»¥æ­£ç¡®è¯†åˆ«ã€‚<strong>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ— éœ€æŒ‰ç…§é¡ºåºï¼Œè¿›è¡Œå®šä¹‰</strong>ã€‚</p>
<p>åŸç†æ˜¯ï¼ŒMybatis è§£æ A æ ‡ç­¾ï¼Œå‘ç° A æ ‡ç­¾å¼•ç”¨äº† B æ ‡ç­¾ï¼Œä½†æ˜¯ B æ ‡ç­¾å°šæœªè§£æåˆ°ï¼Œå°šä¸å­˜åœ¨ï¼Œæ­¤æ—¶ï¼ŒMybatis ä¼šå°† A æ ‡ç­¾æ ‡è®°ä¸º<strong>æœªè§£æçŠ¶æ€</strong>ã€‚ç„¶åï¼Œç»§ç»­è§£æä½™ä¸‹çš„æ ‡ç­¾ï¼ŒåŒ…å« B æ ‡ç­¾ï¼Œå¾…æ‰€æœ‰æ ‡ç­¾è§£æå®Œæ¯•ï¼ŒMybatis ä¼šé‡æ–°è§£æé‚£äº›è¢«æ ‡è®°ä¸ºæœªè§£æçš„æ ‡ç­¾ï¼Œæ­¤æ—¶å†è§£æAæ ‡ç­¾æ—¶ï¼ŒB æ ‡ç­¾å·²ç»å­˜åœ¨ï¼ŒA æ ‡ç­¾ä¹Ÿå°±å¯ä»¥æ­£å¸¸è§£æå®Œæˆäº†ã€‚</p>
<h4 id="ç®€è¿°-Mybatis-çš„-XML-æ˜ å°„æ–‡ä»¶å’Œ-Mybatis-å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Ÿ"><a href="#ç®€è¿°-Mybatis-çš„-XML-æ˜ å°„æ–‡ä»¶å’Œ-Mybatis-å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Ÿ" class="headerlink" title="ç®€è¿° Mybatis çš„ XML æ˜ å°„æ–‡ä»¶å’Œ Mybatis å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Ÿ"></a>ç®€è¿° Mybatis çš„ XML æ˜ å°„æ–‡ä»¶å’Œ Mybatis å†…éƒ¨æ•°æ®ç»“æ„ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Ÿ</h4><p>Mybatis å°†æ‰€æœ‰ XML é…ç½®ä¿¡æ¯éƒ½å°è£…åˆ° All-In-One é‡é‡çº§å¯¹è±¡Configurationå†…éƒ¨ã€‚</p>
<p>åœ¨ XML Mapper æ–‡ä»¶ä¸­ï¼š</p>
<ul>
<li><code>&lt;parameterMap&gt;</code> æ ‡ç­¾ï¼Œä¼šè¢«è§£æä¸º ParameterMap å¯¹è±¡ï¼Œå…¶æ¯ä¸ªå­å…ƒç´ ä¼šè¢«è§£æä¸º ParameterMapping å¯¹è±¡ã€‚</li>
<li><code>&lt;resultMap&gt;</code> æ ‡ç­¾ï¼Œä¼šè¢«è§£æä¸º ResultMap å¯¹è±¡ï¼Œå…¶æ¯ä¸ªå­å…ƒç´ ä¼šè¢«è§£æä¸º ResultMapping å¯¹è±¡ã€‚</li>
<li>æ¯ä¸€ä¸ª <code>select</code>ã€<code>update</code>ã€<code>delete</code>ã€<code>insert</code> æ ‡ç­¾ï¼Œå‡ä¼šè¢«è§£æä¸ºä¸€ä¸ª MappedStatement å¯¹è±¡ï¼Œæ ‡ç­¾å†…çš„ SQL ä¼šè¢«è§£æä¸ºä¸€ä¸ª BoundSql å¯¹è±¡ã€‚   </li>
</ul>
<h4 id="ä¸ºä»€ä¹ˆè¯´Mybatisæ˜¯åŠè‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¯´Mybatisæ˜¯åŠè‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¯´Mybatisæ˜¯åŠè‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¯´Mybatisæ˜¯åŠè‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼Ÿå®ƒä¸å…¨è‡ªåŠ¨çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ</h4><p>Hibernateå±äºå…¨è‡ªåŠ¨ORMæ˜ å°„å·¥å…·ï¼Œä½¿ç”¨HibernateæŸ¥è¯¢å…³è”å¯¹è±¡æˆ–è€…å…³è”é›†åˆå¯¹è±¡æ—¶ï¼Œå¯ä»¥æ ¹æ®å¯¹è±¡å…³ç³»æ¨¡å‹ç›´æ¥è·å–ï¼Œæ‰€ä»¥å®ƒæ˜¯å…¨è‡ªåŠ¨çš„ã€‚<br>è€ŒMybatisåœ¨æŸ¥è¯¢å…³è”å¯¹è±¡æˆ–å…³è”é›†åˆå¯¹è±¡æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–å†™sqlæ¥å®Œæˆï¼Œæ‰€ä»¥ï¼Œç§°ä¹‹ä¸ºåŠè‡ªåŠ¨ORMæ˜ å°„å·¥å…·ã€‚</p>

        </div>

        <blockquote class="post-copyright">
    
    <footer>
        <a href="http://yoursite.com">
            <img src="/img/avatar.jpg" alt="ç±³é«˜æ‰¬">
            ç±³é«˜æ‰¬
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">èµ</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-web/">java web</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/&title=ã€ŠMyBatisä½¿ç”¨æ€»ç»“ã€‹ â€” migaoyang&pic=http://yoursite.com/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/&title=ã€ŠMyBatisä½¿ç”¨æ€»ç»“ã€‹ â€” migaoyang&source=æ—¢ç„¶ç›®æ ‡æ˜¯åœ°å¹³çº¿ï¼Œç•™ç»™ä¸–ç•Œçš„ä¾¿åªèƒ½æ˜¯èƒŒå½±ã€‚" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€ŠMyBatisä½¿ç”¨æ€»ç»“ã€‹ â€” migaoyang&url=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/&via=http://yoursite.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2019/12/09/mybatis/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">MyBatisä½¿ç”¨æ€»ç»“</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/11/20/Java InnerClass/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">javaå†…éƒ¨ç±»</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        è°¢è°¢~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="æ‰“èµäºŒç»´ç ">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">å¾®ä¿¡</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">æ”¯ä»˜å®</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        

        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>åšå®¢å†…å®¹éµå¾ª <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">çŸ¥è¯†å…±äº« ç½²å - éå•†ä¸šæ€§ - ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…åè®®</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>ç±³é«˜æ‰¬ &copy; 2018 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/&title=ã€ŠMyBatisä½¿ç”¨æ€»ç»“ã€‹ â€” migaoyang&pic=http://yoursite.com/img/avatar.jpg" data-title="å¾®åš">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="å¾®ä¿¡">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/&title=ã€ŠMyBatisä½¿ç”¨æ€»ç»“ã€‹ â€” migaoyang&source=æ—¢ç„¶ç›®æ ‡æ˜¯åœ°å¹³çº¿ï¼Œç•™ç»™ä¸–ç•Œçš„ä¾¿åªèƒ½æ˜¯èƒŒå½±ã€‚" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=ã€ŠMyBatisä½¿ç”¨æ€»ç»“ã€‹ â€” migaoyang&url=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/&via=http://yoursite.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://yoursite.com/2019/12/09/æ–°å»ºæ–‡ä»¶å¤¹/mybatis/" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>








<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'ç±³é«˜æ‰¬çš„åšå®¢';
            clearTimeout(titleTime);
        } else {
            document.title = 'ç±³é«˜æ‰¬çš„åšå®¢';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>


  <!-- highlight.jsä»£ç é«˜äº®ä¸»é¢˜ script å¼•å…¥-->
  <script src="/plugins/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- highlight.jsä»£ç é«˜äº®ä¸»é¢˜ script å¼•å…¥-->
</body>
</html>
